(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/logo.21f31404.svg"},149:function(e,t,a){e.exports=a(399)},154:function(e,t,a){},190:function(e,t){},192:function(e,t){},217:function(e,t){},260:function(e,t){},343:function(e,t){},388:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n,s=a(0),c=a.n(s),l=a(74),r=a.n(l),o=(a(154),a(156),a(12)),i=a(27),u=a.n(i),m=a(54),d=a(5),p=a(6),h=a(8),b=a(7),f=a(9),E=a(22),g=a(21),v=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={toggle:!1,filter:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"setFilter",value:function(e){this.setState(Object(o.a)({},this.state,{filter:e}))}},{key:"toggleList",value:function(){this.setState(function(e){return{toggle:!e.toggle}})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-primary dropdown-toggle",onClick:function(){return e.toggleList()},type:"button","data-toggle":"dropdown"},"ETH"),c.a.createElement("div",{className:"dropdown-menu dropdown-menu-right "+(this.state.toggle?"show":"")},c.a.createElement("input",{className:"filter-input pl-2 m-1",onChange:function(t){return e.setFilter(t.target.value)},type:"text",placeholder:"Filter",id:"ticker"}),this.props.symbols.filter(function(t){return t.toUpperCase().search(e.state.filter.toUpperCase())>-1}).map(function(e){return c.a.createElement("a",{key:e,className:"dropdown-item",href:"#"},e)})))}}]),t}(s.Component),N=function(e){return c.a.createElement("a",{onClick:function(){return e.onCollapse()}},c.a.createElement("i",{className:"float-right fas fa-"+(e.collapsed?"plus":"minus")+"-square"}))},y=function(){return c.a.createElement("footer",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"text-center"},c.a.createElement("i",{className:"fas fa-ellipsis-h"})),c.a.createElement("div",{className:"row text-center"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("ul",{className:"list-inline social-buttons"},c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"#"},c.a.createElement("i",{className:"fab fa-twitter"}))),c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"#"},c.a.createElement("i",{className:"fab fa-reddit"}))),c.a.createElement("li",{className:"list-inline-item"},c.a.createElement("a",{href:"#"},c.a.createElement("i",{className:"fab fa-discord"}))))),c.a.createElement("div",{className:"col-md-12 py-5"},c.a.createElement("span",{className:"text-white text-monospace"},"TXCast 2018")))))},w=function(){return c.a.createElement("svg",{height:"100%",width:"100%"},c.a.createElement("defs",null,c.a.createElement("pattern",{id:"basicPattern",x:"0",y:"0",width:"60",height:"30",patternUnits:"userSpaceOnUse"},c.a.createElement("polygon",{points:"0,0 30,15 30,-15"}),c.a.createElement("polygon",{points:"0,0 30,15 0,30"}),c.a.createElement("polygon",{points:"0,30 30,15 30,45"}),c.a.createElement("polygon",{points:"60,0 30,15 30,-15"}),c.a.createElement("polygon",{points:"60,0 30,15 60,30"}),c.a.createElement("polygon",{points:"60,30 30,15 30,45"}))),c.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",stroke:"#333333",strokeWidth:"1",fill:"url(#basicPattern)"}))},k=function(e){var t=e.active?"text-success":"text-danger",a=e.active?" Active":" Inactive",n=e.active?"check":"times";return c.a.createElement("span",{className:"navbar-text ml-auto"},"TXC Sub:",c.a.createElement("span",{className:t},a),c.a.createElement("i",{"data-tip":"Active subs are addresses that hold at least 1 TXC and do not pay the 30% fee.",class:"ml-1 fas fa-"+n+"-circle "+t}))},x=a(75),C=a.n(x),O=a(146),j=a.n(O),D=a(55),T=a.n(D),S=a(147),X=a.n(S),I=(a(388),a(148)),B=function(e){return function(t){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this,e))).state={collapsed:!1},t.onCollapse=t.onCollapse.bind(Object(E.a)(Object(E.a)(t))),t}return Object(f.a)(a,t),Object(p.a)(a,[{key:"onCollapse",value:function(){this.setState(Object(o.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(e,Object.assign({},this.props,{collapsed:this.state.collapsed,onCollapse:this.onCollapse})))}}]),a}(c.a.Component)},A=function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h2",{className:"text-monospace font-weight-bold"},"TX Queue",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement("div",{className:"table-container"},c.a.createElement("table",{className:"table table-hover"},c.a.createElement("thead",{className:"bg-white"},c.a.createElement("tr",{className:"text-black d-flex",style:{height:"30px"}},c.a.createElement("th",{scope:"col",className:"col-5"},"Requester"),c.a.createElement("th",{scope:"col",className:"col-3 text-center"},"Block Schedule"),c.a.createElement("th",{scope:"col",className:"col-4 text-center"},"Reward"))),c.a.createElement("tbody",{className:"text-black text-monospace"},e.posts.map(function(t){return c.a.createElement(R,Object.assign({},t,{account:e.account,onCancel:e.onCancel,sendTX:e.sendTX}))})," ",e.requests.map(function(t){var a;return c.a.createElement(H,Object.assign({},t,(a={account:e.account,blockFormat:e.blockFormat},Object(g.a)(a,"account",e.account),Object(g.a)(a,"onCancel",e.onCancel),a)))}))))))},R=function(e){return c.a.createElement("tr",{className:"table-light text-black d-flex hoverHide"},c.a.createElement("td",{className:"col-5 pl-3"},c.a.createElement("span",{className:"sendSpan"},e.address),c.a.createElement("button",{className:"btn btn-sm btn-success btn-block table-button",onClick:function(){return e.sendTX(JSON.parse(e.callDataTX))}},c.a.createElement("i",{class:"fas fa-paper-plane"})," Send this TX")),c.a.createElement("td",{className:"col-3 text-center"},"Ready"),c.a.createElement("td",{className:"col-4 text-center"},e.account===e.address?c.a.createElement(P,e):e.amount+" "+e.currency))},H=function(e){return c.a.createElement("tr",{className:"table-secondary text-black d-flex hoverHide"},c.a.createElement("td",{className:"col-5 pl-3"},c.a.createElement("span",{className:"sendSpan"},e.address),c.a.createElement(I.CopyToClipboard,{text:e.callDataTX},c.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(e){return 0}},c.a.createElement("i",{class:"fas fa-clipboard"})," Copy Signature"))),c.a.createElement("td",{className:"col-3 text-center"},e.blockFormat?e.blocks:e.timestamp),c.a.createElement("td",{className:"col-4 text-center"},e.account===e.address?c.a.createElement(P,e):e.amount+" "+e.currency))},P=function(e){return c.a.createElement("span",null,c.a.createElement("span",{className:"sendSpan"},e.amount," ",e.currency),c.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(){return e.onCancel(e.sig,JSON.parse(e.dataArray)[5])}},c.a.createElement("i",{class:"fas fa-ban"})," Cancel TX"))},F=B(function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){var e=this,t=Object.values(this.props.queue),a=Object.keys(this.props.queue),n=t.forEach(function(e,t){return e.sig=a[t]})||t,s=this.props.blockFormat?n:n.forEach(function(t){t.timestamp=new Date(Date.now()+15*(t.blocks-e.props.blockNumber)).toISOString().split("T")[0]})||s;console.log("txq",s);var l=s.filter(function(t){return t.blocks<e.props.blockNumber}),r=s.filter(function(t){return t.blocks>=e.props.blockNumber});return c.a.createElement(A,Object.assign({},this.props,{posts:l,requests:r,onCancel:this.props.onCancel,sendTX:this.props.sendTX}))}}]),t}(s.Component)),q=function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"text-monospace"},"Post Scheduled TX",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement(L,{onInputChange:e.onInputChange,onSign:e.onSign,inputData:e.inputData,symbols:e.symbols})))},L=function(e){return c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Receiver Address"),c.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"recieverAddress",value:e.inputData.address}),c.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the end-recipient of your transaction.")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Amount"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"amount",value:e.inputData.amount}),c.a.createElement(v,{symbols:e.symbols})),c.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to send to the receiver address.")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Reward"),c.a.createElement("i",{"data-tip":"The reward implicitly includes the network transaction fee.",className:"fas fa-info-circle ml-2"}),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{reward:t.target.value}))},className:"form-control text-monospace",id:"reward",value:e.inputData.reward}),c.a.createElement(v,{symbols:e.symbols})),c.a.createElement("small",{id:"rwHelp",className:"form-text text-gray"},"Amount awarded to the address that fulfills your request.")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Blocks"),c.a.createElement("i",{"data-tip":"Blocks till your TX is available for mining. One block is mined every ~15 seconds.",className:"fas fa-info-circle ml-2"}),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{blocks:t.target.value}))},className:"form-control text-monospace",id:"blocks",value:e.inputData.blocks}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-primary"},"Blocks"))),c.a.createElement("small",{id:"bHelp",className:"form-text text-gray"},"Blocks to wait before the transaction is broadcasted.")),c.a.createElement("button",{onClick:function(t){return e.onSign(t)},className:"btn btn-block btn-lg btn-success"},"Sign and Schedule"))},W=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0,reward:0,blocks:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(q,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onSign:this.onSign.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSign",value:function(e){e.preventDefault(),this.props.onSign(this.state)}},{key:"onInputChange",value:function(e){/(^[0-9][0-9]{0,5}$)|(^$)/.test(e.blocks)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.reward)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(s.Component)),$=function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"text-monospace"},"Buy TXC",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement("p",{className:"lead"},"TXC is the subscription badge of TXCast. Every posted transaction charges a 30% fee of the reward. Addresses with at least 1 TXC do not pay this fee. Subscriptions can be transferred to other addresses and never expire."),c.a.createElement("p",null,"There will only be a total of 5000 TXC subscriptions, and their price is fixed at 1 TXC = 1 ETH for the duration of the sale. TXC isn't subdivisible, so the minimum amount for sale is 1 TXC. However, an address can buy as many whole units of TXC as it wishes. After the 5000 subscriptions are sold, new users will have buy the subscriptions from previous owners."),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{type:"button",onClick:function(){return e.onBuy()},className:"btn btn-success btn-lg btn-block"},"Buy TXC"))))},J=B(function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement($,this.props)}}]),t}(s.Component)),U=function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"text-monospace"},"Notices",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement("p",null,"TXCast is in beta release. Proceed with caution and make sure to read what each sub-app does.")))},M=B(function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(U,this.props)}}]),t}(s.Component)),Z=(a(395),function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"text-monospace"},"Ether and Token Deposits",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement(_,e)))}),_=function(e){return c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Beneficiary's Address"),c.a.createElement("i",{"data-tip":"Until release, the beneficiary is the unlocked wallet.",className:"fas fa-info-circle ml-2"}),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{disabled:!0,className:"form-control text-monospace bg-primary",id:"beneficiaryAddress",value:e.address})),c.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the beneficiary of your deposit.")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Amount"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"depositAmount",value:e.inputData.amount}),c.a.createElement(v,{symbols:e.symbols})),c.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to deposit to the beneficiary.")),c.a.createElement("button",{onClick:function(t){return e.onDeposit(t)},className:"btn btn-block btn-lg btn-success"},"Deposit"))},G=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={amount:0,selfDepositToggle:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(Z,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onDeposit:this.onDeposit.bind(this),toggleSelfDeposit:this.toggleSelfDeposit.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onDeposit",value:function(e){e.preventDefault(),this.props.onDeposit(this.state)}},{key:"toggleSelfDeposit",value:function(){this.setState(Object(o.a)({},this.state,{selfDepositToggle:!this.state.selfDepositToggle}))}},{key:"onInputChange",value:function(e){/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&this.setState(e)}}]),t}(s.Component)),Q=function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"text-monospace"},"Balances",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement(z,e)))},z=function(e){return c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Address"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"address",value:e.inputData.address}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{onClick:function(t){return e.onBalance(t)},className:"btn btn-primary"},"Check")),c.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("h3",null,"ETH: ",c.a.createElement("span",{className:"float-right"},e.balance))))},K=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(Q,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onBalance:this.onBalance.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onBalance",value:function(e){e.preventDefault(),this.props.onBalance(this.state)}},{key:"onInputChange",value:function(e){/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(s.Component)),V=function(e){return c.a.createElement("div",{className:"card text-white mb-3"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h3",{className:"text-monospace"},"Broadcast TX",c.a.createElement(N,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),c.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},c.a.createElement(Y,e)))},Y=function(e){return c.a.createElement("form",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"TX Data"),c.a.createElement("i",{"data-tip":"These data can be copied to the clipboard from the TX Queue sub-app.",className:"fas fa-info-circle ml-2"}),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{onChange:function(t){return e.onInputChange({callDataTX:JSON.parse(t.target.value)})},className:"form-control text-monospace",id:"address",value:JSON.stringify(e.inputData.callDataTX)}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{onClick:function(t){return e.onSendRaw(t)},className:"btn btn-primary"},"Broadcast TX")),c.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))))},ee=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={callDataTX:{}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return c.a.createElement(V,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onSendRaw:this.onSendRaw.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSendRaw",value:function(e){e.preventDefault(),this.props.onSendRaw(this.state)}},{key:"onInputChange",value:function(e){this.setState(e)}}]),t}(s.Component)),te=(n={},Object(g.a)(n,42,{eths:"0xa0475d202be30019e56306cc08f8998887135258",eths_old:"0xe49bb13f1e57de8364586bbb82bf79d0c8aac074",txcsale:"0x2ffbee1b7eda9d6187f4f875899c9f8f28d927ed",txc:"0x12C942fDbE9981E68DC153CC92dA2e2c301F5a9A"}),Object(g.a)(n,1,{eths:"0xf99E87098f4F1C8d8bd6a3df7181B3acdc21848A",txcsale:"0xa4b01a89162141c58505ea43db2d3bda71a325c2",txc:"0x67e35c41060a988f59e2bcb2e0f09b6978fb6614"}),n),ae={dev:"http://localhost:5000",prod:"https://api.txcast.io"},ne={withoutSignature:["address","uint256","uint256","bool","uint256","uint256","uint256"],withSignature:["address","uint256","uint256","bool","uint256","uint256","uint256","bytes"]},se=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this))).state={addressList:[],queue:{},blockNumber:0,balance:0,netID:0,hasTXC:!1,blockFormat:!0,server:"prod"},a.updateBlock=a.updateBlock.bind(Object(E.a)(Object(E.a)(a))),a.web3=new C.a(C.a.givenProvider||"http://localhost:8545"),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,a,n,s,c=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return e.next=4,this.web3.eth.getAccounts();case 4:return t=e.sent,e.next=7,this.web3.eth.net.getId();case 7:a=e.sent,this.setState({addressList:t,netID:a}),n=this.state.addressList[0],s={to:te[this.state.netID].txc,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[n]).substr(2)},console.log(s),this.web3.eth.call(s).then(function(e,t){c.setState({hasTXC:parseInt(e)>0})}),setInterval(this.updateBlock,5e3);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=this,t={url:ae[this.state.server]+"/signature",method:"GET"};T()(t).then(function(t){var a=t.data.reduce(function(e,t){return e[t[0]]=t[1],e},{});e.setState({queue:a})})}},{key:"updateBlock",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:null!==(t=e.sent)&&/[0-9]*/.test(t)&&this.setState({blockNumber:t.number});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onSign",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var a,n,s,c=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:a=e.sent,n=[t.address,this.web3.utils.toWei(t.amount.toString(),"ether"),this.web3.utils.toWei(t.reward.toString(),"ether"),!0,parseInt(t.blocks)+parseInt(a.number),Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),this.state.netID],console.log(n),s={to:te[this.state.netID].eths,data:"0x889c3912"+this.web3.eth.abi.encodeParameters(ne.withoutSignature,n).substr(2)},this.web3.eth.call(s).then(function(e){console.log(e),console.log(c.web3.utils.hexToAscii(e));var t=c.state.addressList[0];c.web3.eth.personal.sign(e,t).then(function(e){console.log(n.concat([e]).toString());var a={to:te[c.state.netID].eths,data:"0x392482d1"+c.web3.eth.abi.encodeParameters(ne.withSignature,n.concat([e])).substr(2)},s={currency:"ETH",amount:c.web3.utils.fromWei(n[2].toString(),"ether"),blocks:n[4],address:t,dataArray:JSON.stringify(n),callDataTX:JSON.stringify(a)},l=c.state.queue;l[e]=s,c.setState({queue:l}),console.log(s);var r=new FormData;Object.keys(s).forEach(function(e){r.set(e,s[e])});var o={url:ae[c.state.server]+"/signature/"+e,data:r,method:"PUT"};T()(o).then(console.log).catch(console.log)})});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onBuy",value:function(){var e=this.state.addressList[0],t={from:e,value:this.web3.utils.toWei("1","ether"),to:te[this.state.netID].txcsale,data:"0xec8ac4d80"+this.web3.eth.abi.encodeParameters(["address"],[e]).substr(2)};this.sendTX(t)}},{key:"onCancel",value:function(e,t){var a=this,n={to:te[this.state.netID].eths,data:"0x8e7baff6"+this.web3.eth.abi.encodeParameters(["uint"],[t]).substr(2)};this.sendTX(n).then(function(n){a.web3.eth.personal.sign("Cancel TX "+t,a.state.addressList[0]).then(function(n){var s={signature:e,nonce:t,verified:n};console.log("cancel",s);var c=new FormData;Object.keys(s).forEach(function(e){c.set(e,s[e])});var l={url:ae[a.state.server]+"/signature/"+e,data:c,method:"DELETE"};T()(l).then(a.fetchData.bind(a)).catch(console.error)})})}},{key:"onDeposit",value:function(e){var t=this.state.addressList[0],a={from:t,value:this.web3.utils.toWei(e.amount.toString(),"ether"),to:te[this.state.netID].eths,data:"0xf340fa01"+this.web3.eth.abi.encodeParameters(["address"],[t]).substr(2)};this.sendTX(a).then(console.log)}},{key:"onBalance",value:function(e){var t=this,a={to:te[this.state.netID].eths,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[e.address]).substr(2)};console.log(a),this.web3.eth.call(a).then(function(e,a){var n=t.web3.utils.fromWei(t.web3.utils.toBN(e).toString(),"ether");t.setState({balance:n})})}},{key:"onSendRaw",value:function(e){console.log(e),this.sendTX(e.callDataTX)}},{key:"sendTX",value:function(e){var t=this.state.addressList[0],a=Object(o.a)({},e,{from:t});return console.log(a),this.web3.eth.sendTransaction(a)}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(w,null),c.a.createElement(j.a,null),c.a.createElement("nav",{className:"navbar navbar-light justify-content-between bg-white mb-3"},c.a.createElement("a",{className:"navbar-brand text-monospace font-weight-bold",href:"#",style:{letterSpacing:"7px"}},c.a.createElement("img",{src:X.a,width:"30",height:"30",className:"d-inline-block align-top mx-3",alt:"txcast logo"}),"TXCast"),c.a.createElement(k,{active:!!this.state.hasTXC}),c.a.createElement("span",{className:"navbar-text ml-3"},"Current block: ",this.state.blockNumber)),c.a.createElement("div",{className:"container-fluid px-4 mt-4",style:{width:"100%"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-5",style:{minWidth:"500px"}},c.a.createElement(F,{account:this.state.addressList[0],queue:this.state.queue,blockFormat:this.state.blockFormat,blockNumber:this.state.blockNumber,sendTX:this.sendTX.bind(this),onCancel:this.onCancel.bind(this),fetchData:this.fetchData.bind(this)}),c.a.createElement(ee,{onSendRaw:this.onSendRaw.bind(this)})),c.a.createElement("div",{className:"col-sm-7"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-7 col-12",style:{minWidth:"380px"}},c.a.createElement(W,{onSign:this.onSign.bind(this)}),c.a.createElement(G,{address:this.state.addressList[0],onDeposit:this.onDeposit.bind(this)})),c.a.createElement("div",{className:"col-lg-5 col-12",style:{minWidth:"100px"}},c.a.createElement(J,{onBuy:this.onBuy.bind(this)}),c.a.createElement(K,{address:this.state.addressList[0],balance:this.state.balance,onBalance:this.onBalance.bind(this)}),c.a.createElement(M,null)))))),c.a.createElement(y,null))}}]),t}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[149,2,1]]]);
//# sourceMappingURL=main.e86eefd1.chunk.js.map