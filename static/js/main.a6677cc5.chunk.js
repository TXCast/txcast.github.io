(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/logo.21f31404.svg"},149:function(e,t,a){e.exports=a(399)},154:function(e,t,a){},190:function(e,t){},192:function(e,t){},217:function(e,t){},260:function(e,t){},343:function(e,t){},388:function(e,t,a){},399:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(74),c=a.n(l),r=(a(154),a(156),a(12)),o=a(27),i=a.n(o),u=a(54),m=a(21),d=a(5),p=a(6),h=a(8),b=a(7),f=a(9),E=a(22),g=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={toggle:!1,filter:""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"setFilter",value:function(e){this.setState(Object(r.a)({},this.state,{filter:e}))}},{key:"toggleList",value:function(){this.setState(function(e){return{toggle:!e.toggle}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{disabled:this.props.disabled,className:"btn btn-primary dropdown-toggle",onClick:function(){return e.toggleList()},type:"button","data-toggle":"dropdown"},"ETH"),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right "+(this.state.toggle?"show":"")},s.a.createElement("input",{className:"filter-input pl-2 m-1",onChange:function(t){return e.setFilter(t.target.value)},type:"text",placeholder:"Filter",id:"ticker"}),this.props.symbols.filter(function(t){return t.toUpperCase().search(e.state.filter.toUpperCase())>-1}).map(function(e){return s.a.createElement("a",{key:e,className:"dropdown-item",href:"#"},e)})))}}]),t}(n.Component),v=function(e){return s.a.createElement("a",{onClick:function(){return e.onCollapse()}},s.a.createElement("i",{className:"float-right fas fa-"+(e.collapsed?"plus":"minus")+"-square"}))},N=function(e){return s.a.createElement("a",{onClick:function(){return e.onToggleBlocks()}},s.a.createElement("i",{"data-tip":"Toggle block schedule or approximate UTC time.",className:"float-right mr-4 fas fa-toggle-"+(e.blocksFormat?"on":"off")}))},y=function(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center"},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("ul",{className:"list-inline social-buttons"},s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"#"},s.a.createElement("i",{className:"fab fa-twitter"}))),s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"#"},s.a.createElement("i",{className:"fab fa-reddit"}))),s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"#"},s.a.createElement("i",{className:"fab fa-discord"}))))),s.a.createElement("div",{className:"col-md-12 py-5"},s.a.createElement("span",{className:"text-white text-monospace"},"TXCast 2018")))))},k=function(){return s.a.createElement("svg",{height:"100%",width:"100%"},s.a.createElement("defs",null,s.a.createElement("pattern",{id:"basicPattern",x:"0",y:"0",width:"60",height:"30",patternUnits:"userSpaceOnUse"},s.a.createElement("polygon",{points:"0,0 30,15 30,-15"}),s.a.createElement("polygon",{points:"0,0 30,15 0,30"}),s.a.createElement("polygon",{points:"0,30 30,15 30,45"}),s.a.createElement("polygon",{points:"60,0 30,15 30,-15"}),s.a.createElement("polygon",{points:"60,0 30,15 60,30"}),s.a.createElement("polygon",{points:"60,30 30,15 30,45"}))),s.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",stroke:"#333333",strokeWidth:"1",fill:"url(#basicPattern)"}))},x=function(e){var t=e.active?"text-success":"text-danger",a=e.active?" Active":" Inactive",n=e.active?"check":"times";return s.a.createElement("span",{className:"navbar-text ml-auto"},"TXC Sub:",s.a.createElement("span",{className:t},a),s.a.createElement("i",{"data-tip":"Active subs are addresses that hold at least 1 TXC and do not pay the 30% fee.",class:"ml-1 fas fa-"+n+"-circle "+t}))},w=a(75),C=a.n(w),O=a(146),T=a.n(O),j=a(55),D=a.n(j),S=a(147),X=a.n(S),I=(a(388),a(148)),B=function(e){return function(t){function a(e){var t;return Object(d.a)(this,a),(t=Object(h.a)(this,Object(b.a)(a).call(this))).state={collapsed:!1},t.onCollapse=t.onCollapse.bind(Object(E.a)(Object(E.a)(t))),t}return Object(f.a)(a,t),Object(p.a)(a,[{key:"onCollapse",value:function(){this.setState(Object(r.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(e,Object.assign({},this.props,{collapsed:this.state.collapsed,onCollapse:this.onCollapse})))}}]),a}(s.a.Component)},A=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h2",{className:"text-monospace font-weight-bold"},"TX Queue",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}),s.a.createElement(N,{onToggleBlocks:e.onToggleBlocks,blocksFormat:e.blocksFormat}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("div",{className:"table-container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"bg-white text-monospace"},s.a.createElement("tr",{className:"text-black d-flex",style:{height:"30px"}},s.a.createElement("th",{scope:"col",className:"col-5"},"Requester"),s.a.createElement("th",{scope:"col",className:"col-3 text-center"},s.a.createElement("i",{className:"fas fa-"+(e.blocksFormat?"cube":"calendar")})," Schedule"),s.a.createElement("th",{scope:"col",className:"col-4 text-center"},"Reward"))),s.a.createElement("tbody",{className:"text-black text-monospace"},e.posts.map(function(t){return s.a.createElement(F,Object.assign({},t,{account:e.account,onCancel:e.onCancel,sendTX:e.sendTX}))})," ",e.requests.map(function(t){var a;return s.a.createElement(R,Object.assign({},t,(a={account:e.account,blocksFormat:e.blocksFormat},Object(m.a)(a,"account",e.account),Object(m.a)(a,"onCancel",e.onCancel),a)))}))))))},F=function(e){return s.a.createElement("tr",{className:"table-light text-black d-flex hoverHide"},s.a.createElement("td",{className:"col-5 pl-3"},s.a.createElement("span",{className:"sendSpan"},e.address),s.a.createElement("button",{className:"btn btn-sm btn-success btn-block table-button",onClick:function(){return e.sendTX(JSON.parse(e.callDataTX))}},s.a.createElement("i",{class:"fas fa-paper-plane"})," Send this TX")),s.a.createElement("td",{className:"col-3 text-center"},"Ready"),s.a.createElement("td",{className:"col-4 text-center"},e.account===e.address?s.a.createElement(H,e):e.amount+" "+e.currency))},R=function(e){return s.a.createElement("tr",{className:"table-secondary text-black d-flex hoverHide"},s.a.createElement("td",{className:"col-5 pl-3"},s.a.createElement("span",{className:"sendSpan"},e.address),s.a.createElement(I.CopyToClipboard,{text:e.callDataTX},s.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(e){return 0}},s.a.createElement("i",{class:"fas fa-clipboard"})," Copy Signature"))),s.a.createElement("td",{className:"col-3 text-center"},s.a.createElement(P,e)),s.a.createElement("td",{className:"col-4 text-center"},e.account===e.address?s.a.createElement(H,e):e.amount+" "+e.currency))},H=function(e){return s.a.createElement("span",null,s.a.createElement("span",{className:"sendSpan"},e.amount," ",e.currency),s.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(){return e.onCancel(e.sig,JSON.parse(e.dataArray)[5])}},s.a.createElement("i",{class:"fas fa-ban"})," Cancel TX"))},P=function(e){return s.a.createElement("span",null,e.blocksFormat?e.blocks:e.timestampDisplay)},q=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this))).state={blocksFormat:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"onToggleBlocks",value:function(){this.setState({blocksFormat:!this.state.blocksFormat}),console.log(this.state)}},{key:"render",value:function(){var e=this,t=Object.values(this.props.queue),a=Object.keys(this.props.queue),n=t.forEach(function(e,t){return e.sig=a[t]})||t,l=this.state.blocksFormat?n:n.forEach(function(t){t.timestampDisplay=new Date(Date.now()+15*(t.blocks-e.props.blockNumber)).toISOString().replace("T"," ").split(":").slice(0,2),t.timestamp=new Date(Date.now()+15*(t.blocks-e.props.blockNumber)).toISOString()})||n;console.log("txq",n);var c=l.filter(function(t){return t.blocks<e.props.blockNumber}),r=l.filter(function(t){return t.blocks>=e.props.blockNumber});return s.a.createElement(A,Object.assign({},this.props,{posts:c,requests:r,blocksFormat:this.state.blocksFormat,onCancel:this.props.onCancel,onToggleBlocks:this.onToggleBlocks.bind(this),sendTX:this.props.sendTX}))}}]),t}(n.Component)),L=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Post Scheduled TX",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(W,{getTime:e.getTime,onInputChange:e.onInputChange,onSign:e.onSign,inputData:e.inputData,symbols:e.symbols})))},W=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Receiver Address"),s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(r.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"recieverAddress",value:e.inputData.address}),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the end-recipient of your transaction.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Amount"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(r.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"amount",value:e.inputData.amount}),s.a.createElement(g,{disabled:!0,symbols:e.symbols})),s.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to send to the receiver address.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Reward"),s.a.createElement("i",{"data-tip":"The reward implicitly includes the network transaction fee.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(r.a)({},e.inputData,{reward:t.target.value}))},className:"form-control text-monospace",id:"reward",value:e.inputData.reward}),s.a.createElement(g,{disabled:!0,symbols:e.symbols})),s.a.createElement("small",{id:"rwHelp",className:"form-text text-gray"},"Amount awarded to the address that fulfills your request.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Blocks"),s.a.createElement("i",{"data-tip":"Blocks till your TX is available for mining. One block is mined every ~15 seconds.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(r.a)({},e.inputData,{blocks:t.target.value}))},className:"form-control text-monospace",id:"blocks",value:e.inputData.blocks}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("div",{style:{cursor:"help"},"data-tip":e.getTime(e.inputData.blocks),className:"btn btn-primary disabled"},"Blocks"))),s.a.createElement("small",{id:"bHelp",className:"form-text text-gray"},"Blocks to wait before the transaction is broadcasted.")),s.a.createElement("button",{onClick:function(t){return e.onSign(t)},className:"btn btn-block btn-lg btn-success"},"Sign and Schedule"))},$=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0,reward:0,blocks:10},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getTime",value:function(e){var t=15*e/3600;return t<2?"Your input is equivalent to ~"+(60*t).toFixed(2)+" minutes.":"Your input is equivalent to ~"+t.toFixed(2)+" hours."}},{key:"render",value:function(){return s.a.createElement(L,Object.assign({},this.props,{getTime:this.getTime.bind(this),onInputChange:this.onInputChange.bind(this),onSign:this.onSign.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSign",value:function(e){e.preventDefault(),this.props.onSign(this.state)}},{key:"onInputChange",value:function(e){/(^[0-9][0-9]{0,5}$)|(^$)/.test(e.blocks)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.reward)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(n.Component)),J=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Buy TXC",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("p",{className:"lead"},"TXC is the subscription badge of TXCast. Every posted transaction charges a 30% fee of the reward. Addresses with at least 1 TXC do not pay this fee. Subscriptions can be transferred to other addresses and never expire."),s.a.createElement("p",null,"There will only be a total of 5000 TXC subscriptions, and their price is fixed at 1 TXC = 1 ETH for the duration of the sale. TXC isn't subdivisible, so the minimum amount for sale is 1 TXC. However, an address can buy as many whole units of TXC as it wishes. After the 5000 subscriptions are sold, new users will have buy the subscriptions from previous owners."),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button",onClick:function(){return e.onBuy()},className:"btn btn-success btn-lg btn-block"},"Buy TXC"))))},U=B(function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(J,this.props)}}]),t}(n.Component)),M=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Notices",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("p",null,"TXCast is in beta release. Proceed with caution and make sure to read what each sub-app does.")))},Z=B(function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(M,this.props)}}]),t}(n.Component)),_=(a(395),function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Ether and Token Deposits",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(G,e)))}),G=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Beneficiary's Address"),s.a.createElement("i",{"data-tip":"Until release, the beneficiary is the unlocked wallet.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{disabled:!0,className:"form-control text-monospace bg-primary",id:"beneficiaryAddress",value:e.address})),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the beneficiary of your deposit.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Amount"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(r.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"depositAmount",value:e.inputData.amount}),s.a.createElement(g,{symbols:e.symbols})),s.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to deposit to the beneficiary.")),s.a.createElement("button",{onClick:function(t){return e.onDeposit(t)},className:"btn btn-block btn-lg btn-success"},"Deposit"))},Q=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={amount:0,selfDepositToggle:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(_,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onDeposit:this.onDeposit.bind(this),toggleSelfDeposit:this.toggleSelfDeposit.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onDeposit",value:function(e){e.preventDefault(),this.props.onDeposit(this.state)}},{key:"toggleSelfDeposit",value:function(){this.setState(Object(r.a)({},this.state,{selfDepositToggle:!this.state.selfDepositToggle}))}},{key:"onInputChange",value:function(e){/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&this.setState(e)}}]),t}(n.Component)),Y=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Balances",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(z,e)))},z=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Address"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(r.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"address",value:e.inputData.address}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:function(t){return e.onBalance(t)},className:"btn btn-primary"},"Check")),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("h3",null,"ETH: ",s.a.createElement("span",{className:"float-right"},e.balance))))},K=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(Y,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onBalance:this.onBalance.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onBalance",value:function(e){e.preventDefault(),this.props.onBalance(this.state)}},{key:"onInputChange",value:function(e){/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(n.Component)),V=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Broadcast TX",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(ee,e)))},ee=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"TX Data"),s.a.createElement("i",{"data-tip":"These data can be copied to the clipboard from the TX Queue sub-app.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange({callDataTX:JSON.parse(t.target.value)})},className:"form-control text-monospace",id:"address",value:JSON.stringify(e.inputData.callDataTX)}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:function(t){return e.onSendRaw(t)},className:"btn btn-primary"},"Broadcast TX")),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))))},te=B(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).state={callDataTX:{}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return s.a.createElement(V,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onSendRaw:this.onSendRaw.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSendRaw",value:function(e){e.preventDefault(),this.props.onSendRaw(this.state)}},{key:"onInputChange",value:function(e){this.setState(e)}}]),t}(n.Component)),ae=function(e){function t(e){var a,n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(b.a)(t).call(this))).state={addressList:[],queue:{},blockNumber:0,balance:0,netID:1,hasTXC:!1,blocksFormat:!0,server:"prod"},n.updateBlock=n.updateBlock.bind(Object(E.a)(Object(E.a)(n))),n.web3=new C.a(C.a.givenProvider||"http://localhost:8545"),n.addresses=(a={},Object(m.a)(a,42,{eths:"0xa0475d202be30019e56306cc08f8998887135258",eths_old:"0xe49bb13f1e57de8364586bbb82bf79d0c8aac074",txcsale:"0x2ffbee1b7eda9d6187f4f875899c9f8f28d927ed",txc:"0x12C942fDbE9981E68DC153CC92dA2e2c301F5a9A"}),Object(m.a)(a,1,{eths:"0xf99E87098f4F1C8d8bd6a3df7181B3acdc21848A",txcsale:"0xa4b01a89162141c58505ea43db2d3bda71a325c2",txc:"0x67e35c41060a988f59e2bcb2e0f09b6978fb6614"}),a),n.urls={dev:"http://localhost:5000",prod:"https://api.txcast.io"},n.abiTypes={eths:{withoutSignature:["address","uint256","uint256","bool","uint256","uint256","uint256"],withSignature:["address","uint256","uint256","bool","uint256","uint256","uint256","bytes"]}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t,a,n,s,l=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.enable();case 2:return e.next=4,this.web3.eth.getAccounts();case 4:return t=e.sent,e.next=7,this.web3.eth.net.getId();case 7:return a=e.sent,e.next=10,this.setState({addressList:t,netID:a});case 10:n=t[0],s={to:this.addresses[this.state.netID].txc,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[n]).substr(2)},console.log(s),this.web3.eth.call(s).then(function(e,t){l.setState({hasTXC:parseInt(e)>0})}),setInterval(this.updateBlock,5e3);case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=this;console.log(this.state);var t={url:this.urls[this.state.server]+"/signature",method:"GET"};D()(t).then(function(t){var a=t.data.reduce(function(e,t){return e[t[0]]=t[1],e},{});e.setState({queue:a})})}},{key:"updateBlock",value:function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:null!==(t=e.sent)&&/[0-9]*/.test(t)&&this.setState({blockNumber:t.number});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onSign",value:function(){var e=Object(u.a)(i.a.mark(function e(t){var a,n,s,l=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:a=e.sent,n=[t.address,this.web3.utils.toWei(t.amount.toString(),"ether"),this.web3.utils.toWei(t.reward.toString(),"ether"),!0,parseInt(t.blocks)+parseInt(a.number),Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),this.state.netID],console.log(n),s={to:this.addresses[this.state.netID].eths,data:"0x889c3912"+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withoutSignature,n).substr(2)},this.web3.eth.call(s).then(function(e){console.log(e),console.log(l.web3.utils.hexToAscii(e));var t=l.state.addressList[0];l.web3.eth.personal.sign(e,t).then(function(e){console.log(n.concat([e]).toString());var a={to:l.addresses[l.state.netID].eths,data:"0x392482d1"+l.web3.eth.abi.encodeParameters(l.abiTypes.eths.withSignature,n.concat([e])).substr(2)},s={currency:"ETH",amount:l.web3.utils.fromWei(n[2].toString(),"ether"),blocks:n[4],address:t,dataArray:JSON.stringify(n),callDataTX:JSON.stringify(a)},c=l.state.queue;c[e]=s,l.setState({queue:c}),console.log(s);var r=new FormData;Object.keys(s).forEach(function(e){r.set(e,s[e])});var o={url:l.urls[l.state.server]+"/signature/"+e,data:r,method:"PUT"};D()(o).then(console.log).catch(console.log)})});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onBuy",value:function(){var e=this.state.addressList[0],t={from:e,value:this.web3.utils.toWei("1","ether"),to:this.addresses[this.state.netID].txcsale,data:"0xec8ac4d80"+this.web3.eth.abi.encodeParameters(["address"],[e]).substr(2)};this.sendTX(t)}},{key:"onCancel",value:function(e,t){var a=this,n={to:this.addresses[this.state.netID].eths,data:"0x8e7baff6"+this.web3.eth.abi.encodeParameters(["uint"],[t]).substr(2)};this.sendTX(n).then(function(n){a.web3.eth.personal.sign("Cancel TX "+t,a.state.addressList[0]).then(function(n){var s={signature:e,nonce:t,verified:n};console.log("cancel",s);var l=new FormData;Object.keys(s).forEach(function(e){l.set(e,s[e])});var c={url:a.urls[a.state.server]+"/signature/"+e,data:l,method:"DELETE"};D()(c).then(a.fetchData.bind(a)).catch(console.error)})})}},{key:"onDeposit",value:function(e){var t=this.state.addressList[0],a={from:t,value:this.web3.utils.toWei(e.amount.toString(),"ether"),to:this.addresses[this.state.netID].eths,data:"0xf340fa01"+this.web3.eth.abi.encodeParameters(["address"],[t]).substr(2)};this.sendTX(a).then(console.log)}},{key:"onBalance",value:function(e){var t=this,a={to:this.addresses[this.state.netID].eths,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[e.address]).substr(2)};console.log(a),this.web3.eth.call(a).then(function(e,a){var n=t.web3.utils.fromWei(t.web3.utils.toBN(e).toString(),"ether");t.setState({balance:n})})}},{key:"onSendRaw",value:function(e){console.log(e),this.sendTX(e.callDataTX)}},{key:"sendTX",value:function(e){var t=this.state.addressList[0],a=Object(r.a)({},e,{from:t});return console.log(a),this.web3.eth.sendTransaction(a)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement(T.a,null),s.a.createElement("nav",{className:"navbar navbar-light justify-content-between bg-white mb-3"},s.a.createElement("a",{className:"navbar-brand text-monospace font-weight-bold",href:"#",style:{letterSpacing:"7px"}},s.a.createElement("img",{src:X.a,width:"30",height:"30",className:"d-inline-block align-top mx-3",alt:"txcast logo"}),"TXCast"),s.a.createElement("span",{className:"navbar-text ml-auto"},s.a.createElement("i",{style:{color:1===this.state.netID?"teal":"purple"},className:"fas fa-wifi mr-2"}),"Active TXCast Address: ",s.a.createElement("span",{className:"text-monospace"},this.addresses[this.state.netID].eths)),s.a.createElement(x,{active:!!this.state.hasTXC}),s.a.createElement("span",{className:"navbar-text ml-3"},"Current block: ",s.a.createElement("span",{className:"text-monospace"},this.state.blockNumber))),s.a.createElement("div",{className:"container-fluid px-4 mt-4",style:{width:"100%"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-5",style:{minWidth:"500px"}},s.a.createElement(q,{account:this.state.addressList[0],queue:this.state.queue,blockNumber:this.state.blockNumber,sendTX:this.sendTX.bind(this),onCancel:this.onCancel.bind(this),fetchData:this.fetchData.bind(this)}),s.a.createElement(te,{onSendRaw:this.onSendRaw.bind(this)})),s.a.createElement("div",{className:"col-sm-7"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-7 col-12",style:{minWidth:"380px"}},s.a.createElement($,{onSign:this.onSign.bind(this)}),s.a.createElement(Q,{address:this.state.addressList[0],onDeposit:this.onDeposit.bind(this)})),s.a.createElement("div",{className:"col-lg-5 col-12",style:{minWidth:"100px"}},s.a.createElement(U,{onBuy:this.onBuy.bind(this)}),s.a.createElement(K,{address:this.state.addressList[0],balance:this.state.balance,onBalance:this.onBalance.bind(this)}),s.a.createElement(Z,null)))))),s.a.createElement(y,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[149,2,1]]]);
//# sourceMappingURL=main.a6677cc5.chunk.js.map