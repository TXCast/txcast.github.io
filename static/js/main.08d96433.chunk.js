(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){e.exports=a.p+"static/media/logo.21f31404.svg"},205:function(e,t,a){e.exports=a(536)},245:function(e,t){},247:function(e,t){},272:function(e,t){},315:function(e,t){},395:function(e,t){},525:function(e,t,a){},534:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(22),l=a.n(r),c=a(23),o=a.n(c),i=a(33),u=a(10),m=a(11),d=a(14),h=a(12),p=a(13),b=a(9),f=a(16),g=a(6),E=function(e){return s.a.createElement(g.f,{isOpen:e.modal,toggle:e.toggle},e.innerHTML.body({params:e.params}),e.innerHTML.footer({toggle:e.toggle,action:e.action,params:e.params}))},v=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{toggle:!e.toggle}})},a.state={toggle:!1,filter:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"setFilter",value:function(e){this.setState(Object(f.a)({},this.state,{filter:e}))}},{key:"render",value:function(){var e=this;return s.a.createElement(g.b,{className:"input-group-append",isOpen:this.state.toggle,toggle:this.toggle},s.a.createElement(g.e,{caret:!0,className:"btn-secondary dropdown-toggle"},this.props.currency),s.a.createElement(g.d,null,this.props.symbols.filter(function(t){return t.toUpperCase().search(e.state.filter.toUpperCase())>-1}).map(function(t){return s.a.createElement(g.c,{key:t,onClick:function(){return e.props.setCurrency(t)}},t)})))}}]),t}(n.Component),y=function(e){return s.a.createElement("a",{onClick:function(){return e.onCollapse()}},s.a.createElement("i",{className:"float-right fas fa-"+(e.collapsed?"plus":"minus")+"-square"}))},N=function(e){return s.a.createElement("a",{onClick:function(){return e.onToggleBlocks()}},s.a.createElement("i",{"data-tip":"Toggle block schedule or approximate UTC time.",className:"float-right mr-4 fas fa-toggle-"+(e.blocksFormat?"on":"off")}))},w=function(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center"},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("ul",{className:"list-inline social-buttons"},s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"https://discord.gg/Z2bMx5V",target:"_blank"},s.a.createElement("i",{className:"fab fa-discord"}))))),s.a.createElement("div",{className:"col-md-12 py-5"},s.a.createElement("span",{className:"text-white text-monospace"},"TXCast 2018")))))},k=function(){return s.a.createElement("svg",{height:"100%",width:"100%"},s.a.createElement("defs",null,s.a.createElement("pattern",{id:"basicPattern",x:"0",y:"0",width:"60",height:"30",patternUnits:"userSpaceOnUse"},s.a.createElement("polygon",{points:"0,0 30,15 30,-15"}),s.a.createElement("polygon",{points:"0,0 30,15 0,30"}),s.a.createElement("polygon",{points:"0,30 30,15 30,45"}),s.a.createElement("polygon",{points:"60,0 30,15 30,-15"}),s.a.createElement("polygon",{points:"60,0 30,15 60,30"}),s.a.createElement("polygon",{points:"60,30 30,15 30,45"}))),s.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",stroke:"#333333",strokeWidth:"1",fill:"url(#basicPattern)"}))},x=function(e){var t=e.balance-e.allowance,a=e.active?0===t?"text-warning":"text-secondary":"text-danger",n=" "+(e.active?t+"/"+e.balance:"Loading"),r=e.active?"tasks":"exclamation-triangle";return s.a.createElement("span",{className:"navbar-text"},"Available Requests:",s.a.createElement("span",{className:a},n),s.a.createElement("i",{className:"ml-1 fas fa-"+r+" "+a}))},O=a(108),C=a.n(O),T=a(200),j=a.n(T),D=a(38),S=a.n(D),X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggle=a.toggle.bind(Object(b.a)(Object(b.a)(a))),a.toggleDropdown=a.toggleDropdown.bind(Object(b.a)(Object(b.a)(a))),a.state={isOpen:!1,dropdownOpen:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"toggleDropdown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=void 0!=this.props.addressList[0],t="fa"+(e?"s":"r")+" fa-circle text-"+(e?"success":"danger");return s.a.createElement("div",null,s.a.createElement(g.l,{className:"text-monospace bg-white text-black",color:"#FFF",light:!0,expand:"md"},s.a.createElement("img",{src:this.props.logo,width:"30",height:"30",className:"d-inline-block align-top mx-3",alt:"txcast logo"}),s.a.createElement(g.m,{className:"font-weight-bold",style:{letterSpacing:"7px"}},"TXCast"),s.a.createElement(g.n,{onClick:this.toggle}),s.a.createElement(g.a,{isOpen:this.state.isOpen,navbar:!0},s.a.createElement(g.i,{className:"ml-auto",navbar:!0},s.a.createElement(g.j,{className:"mr-3"},s.a.createElement(g.k,{"data-tip":"Under construction",className:"text-secondary"},"Help")),s.a.createElement(g.j,{className:"mr-3"},s.a.createElement(x,{balance:this.props.txs,allowance:this.props.allowance,active:this.props.allowance+this.props.txs>-1})),s.a.createElement(g.b,{isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown,nav:!0,inNavbar:!0},s.a.createElement(g.e,{nav:!0,caret:!0},"Address and Blocks"),s.a.createElement(g.d,{right:!0,flip:!1},s.a.createElement(g.c,null,s.a.createElement("small",{className:"float-right"},s.a.createElement("i",{style:{color:"1"===this.props.netid?"teal":"purple"},className:"fas fa-wifi mr-2"}),"TXCast Address:",s.a.createElement("a",{href:this.props.ethsUrl,target:"_blank",className:"text-monospace"},this.props.ethsAddress.slice(0,6)+"..."+this.props.ethsAddress.slice(-4)))),this.props.addressList[0]&&s.a.createElement(I,this.props),s.a.createElement(g.c,{style:{borderTopColor:"gray"},divider:!0}),s.a.createElement(g.c,{disabled:!0},s.a.createElement("small",{className:"float-left"},s.a.createElement("i",{className:t})," web3 ",e?"enabled":"disabled"),s.a.createElement("small",{className:"float-right"},"Block: ",s.a.createElement("span",{className:"text-monospace"},this.props.blockNumber)))))))))}}]),t}(s.a.Component),I=function(e){return s.a.createElement(g.c,null,s.a.createElement("small",{className:"float-right"},"Wallet: ",s.a.createElement("a",{href:e.coinbaseUrl,target:"_blank",className:"text-monospace"},e.addressList[0].slice(0,6)+"..."+e.addressList[0].slice(-4))))},B=X,F={signData:{body:function(e){var t=e.params,a=t.web3.utils.toBN(t.dataArray.reward).add(t.web3.utils.toBN(t.dataArray.amount)),n=a.lte(t.web3.utils.toBN(t.balance));return s.a.createElement(g.g,null,s.a.createElement("h2",{className:"text-black"},"TX Request"),s.a.createElement("p",null,"You are about to sign a TX request. This can still be cancelled before someone broadcasts it."),s.a.createElement("h5",{className:"text-black"},"Your input data is the following:"),s.a.createElement("p",null,"Receiver:",s.a.createElement("small",{className:"text-monospace float-right"}," ",t.dataArray.address),s.a.createElement("br",null),"Schedule: ",s.a.createElement("span",{className:"float-right"},"Block ",t.dataArray.schedule),s.a.createElement("br",null),"TX hash: ",s.a.createElement("span",{className:"text-monospace float-right"},t.web3.utils.hexToAscii(t.hash))),s.a.createElement("hr",null),s.a.createElement("p",null,"Amount: ",s.a.createElement("span",{className:"float-right"},t.web3.utils.fromWei(t.dataArray.amount,"ether")," ",t.currency),s.a.createElement("br",null),"Reward: ",s.a.createElement("span",{className:"float-right"},t.web3.utils.fromWei(t.dataArray.reward,"ether")," ",t.currency)),s.a.createElement("hr",null),s.a.createElement("p",null,"Total TX request: ",s.a.createElement("span",{className:"float-right"},t.web3.utils.fromWei(a.toString(),"ether")," ",t.currency),s.a.createElement("br",null),"Current balance: ",s.a.createElement("span",{className:"float-right text-"+(n?"success":"danger")},t.web3.utils.fromWei(t.balance.toString(),"ether")," ETH"),function(e,t){var a="USD"==e.currency?"You are scheduling a TX in USD prices. By the time it is fulfilled your available balance may not be enough to cover the request.":"The total amount you're requesting is higher than your balance. Make sure to deposit enough ETH to cover the TX amount and reward.";return s.a.createElement("span",null,s.a.createElement("br",null),!t&&s.a.createElement("small",{className:"text-danger float-right"},s.a.createElement("i",{className:"fas fa-exclamation-triangle"})," ",a))}(t,n)))},footer:function(e){var t=e.toggle,a=e.action,n=e.params;return s.a.createElement(g.h,null,s.a.createElement("button",{className:"btn btn-info",onClick:t},"Back"),s.a.createElement("button",{className:"btn btn-success",onClick:function(){return a(n.hash,n.signer,n.dataArray,n.method)}},"Sign TX")," ")}},cancelData:{body:function(){return s.a.createElement(g.g,null,s.a.createElement("h2",{className:"text-black"},"TX Cancellation"),s.a.createElement("p",null,"Cancelling a TX has two steps: Cancelling the request on the blockchain and removing the request from the TXCast server."),s.a.createElement("p",null,"You will be prompted for two signatures:",s.a.createElement("br",null),"one with a 0.001 ETH cost to cancel on the blockchain,",s.a.createElement("br",null),"and one with no cost to remove the request."),s.a.createElement("p",null,"It is ",s.a.createElement("b",null,"absolutely necessary")," to send the 0.001 ETH transaction, since that is the only 100% guarantee that your request is fully invalidated. The zero cost transaction will remove your request from the servers, but if someone has a copy of your signature, it can still be used."))},footer:function(e){var t=e.toggle,a=e.action,n=e.params;return s.a.createElement(g.h,null,s.a.createElement("button",{className:"btn btn-info",onClick:t},"Back"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(n.signature,n.nonce)}},"Cancel TX")," ")}}},A=a(39),q=a(109),H=a(40),L=a.n(H),R=a(201),W=a.n(R);a(521);function U(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(o.a.mark(function e(t){var a,n,s,r,l,c,i,u=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:return a=e.sent,n={address:t.address,amount:this.web3.utils.toWei(t.amount.toString(),"ether"),reward:this.web3.utils.toWei(t.reward.toString(),"ether"),byBlocks:!0,schedule:parseInt(t.blocks)+parseInt(a.number),nonce:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),netID:this.state.netID,USD:"USD"==t.currency},s="USD"==t.currency?"0x51004bf5":"0x392482d1",r={to:this.addresses[this.state.netID].eths,data:"0x03c14526"+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withoutSignature,L()(n)).substr(2)},e.next=8,this.web3.eth.call(r);case 8:l=e.sent,c=this.state.addressList[0],i={to:this.addresses[this.state.netID].eths,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[c]).substr(2)},this.web3.eth.call(i).then(function(e,a){var r=u.web3.utils.toBN(e).toString();u.setState({modal:!0,params:{hash:l,signer:c,dataArray:n,balance:r,currency:t.currency,method:s,web3:u.web3},innerHTML:u.Modals.signData,action:u.signTX})});case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function M(){var e=this.state.addressList[0],t={from:e,value:this.web3.utils.toWei("1","ether"),to:this.addresses[this.state.netID].txssale,data:"0xec8ac4d80"+this.web3.eth.abi.encodeParameters(["address"],[e]).substr(2)};this.sendTX(t)}function $(e,t){this.setState({modal:!0,params:{signature:e,nonce:t},innerHTML:this.Modals.cancelData,action:this.cancelTX})}function _(e){var t=this.state.addressList[0],a={from:t,value:this.web3.utils.toWei(e.amount.toString(),"ether"),to:this.addresses[this.state.netID].eths,data:"0xf340fa01"+this.web3.eth.abi.encodeParameters(["address"],[t]).substr(2)};this.sendTX(a).then(console.log)}function Y(e){var t=this,a={to:this.addresses[this.state.netID].eths,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[e.address]).substr(2)};this.web3.eth.call(a).then(function(e,a){var n=t.web3.utils.fromWei(t.web3.utils.toBN(e).toString(),"ether");t.setState({balance:n})})}function J(e){var t,a={address:(t=e.callDataTX).address,amount:t.amount,reward:t.reward,byBlocks:t.byBlocks,schedule:t.schedule,nonce:t.nonce,netID:t.netID,sig:t.sig},n=e.callDataTX.method,s={to:this.addresses[this.state.netID].eths,data:n+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withSignature,Object(q.a)(L()(a))).substr(2)};this.sendTX(s)}function Z(e){var t,a=this,n={address:(t=e).address,amount:t.amount,reward:t.reward,byBlocks:t.byBlocks,schedule:t.schedule,nonce:t.nonce,netID:t.netID,sig:t.sig},s=e.method,r={to:this.addresses[this.state.netID].eths,data:s+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withSignature,Object(q.a)(L()(n))).substr(2)};this.sendTX(r).then(function(){a.fetchData()})}function G(){return(G=Object(i.a)(o.a.mark(function e(t){var a,n,s,r=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={to:this.addresses[this.state.netID].txs,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[t]).substr(2)},e.next=3,this.web3.eth.call(a);case 3:n=e.sent,s={url:this.urls[this.state.server]+"/signer/"+t,method:"GET"},S()(s).then(function(e){r.setState({txs:parseInt(n),allowance:parseInt(e.data[0])})}).catch(function(e){console.error(e)});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Q=a(202),V=a.n(Q),z=(a(525),a(529),a(37)),K=a(203),ee=function(e){return function(t){function a(e){var t;return Object(u.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this))).state={collapsed:!1},t.onCollapse=t.onCollapse.bind(Object(b.a)(Object(b.a)(t))),t}return Object(p.a)(a,t),Object(m.a)(a,[{key:"onCollapse",value:function(){this.setState(Object(f.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(e,Object.assign({},this.props,{collapsed:this.state.collapsed,onCollapse:this.onCollapse})))}}]),a}(s.a.Component)},te=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h2",{className:"text-monospace font-weight-bold"},"TX Queue",s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}),s.a.createElement(N,{onToggleBlocks:e.onToggleBlocks,blocksFormat:e.blocksFormat}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("div",{className:"table-container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"bg-white text-monospace"},s.a.createElement("tr",{className:"text-black d-flex",style:{height:"30px"}},s.a.createElement("th",{scope:"col",className:"col-5"},"Requester"),s.a.createElement("th",{scope:"col",className:"col-3 text-center"},s.a.createElement("i",{className:"fas fa-"+(e.blocksFormat?"cube":"calendar")})," ",s.a.createElement("span",null,"Schedule")),s.a.createElement("th",{scope:"col",className:"col-4 text-center"},"Reward"))),s.a.createElement("tbody",{className:"text-black text-monospace"},e.posts.map(function(t){return s.a.createElement(ae,Object.assign({},t,{key:t.sig,account:e.account,onCancel:e.onCancel,onFulfill:e.onFulfill,fromWei:e.fromWei}))})," ",e.requests.map(function(t){var a;return s.a.createElement(ne,Object.assign({},t,(a={key:t.sig,account:e.account,blocksFormat:e.blocksFormat},Object(z.a)(a,"account",e.account),Object(z.a)(a,"onCancel",e.onCancel),Object(z.a)(a,"fromWei",e.fromWei),a)))}))))))},ae=function(e){var t="true"===e.USD?"USD":"ETH";return s.a.createElement("tr",{className:"table-success text-black d-flex hoverHide"},s.a.createElement("td",{className:"col-5 pl-3"},s.a.createElement("span",{className:"sendSpan"},e.signer),s.a.createElement("button",{className:"btn btn-sm btn-success btn-block table-button",onClick:function(){return e.onFulfill(e)}},s.a.createElement("i",{className:"fas fa-paper-plane"})," Send this TX")),s.a.createElement("td",{className:"col-3 text-center"},"Ready"),s.a.createElement("td",{className:"col-4 text-center"},e.account===e.signer?s.a.createElement(se,Object.assign({currency:t},e)):e.fromWei(e.reward,"ether")+" "+t))},ne=function(e){var t="true"===e.USD?"USD":"ETH";return s.a.createElement("tr",{className:"table-danger text-black d-flex hoverHide"},s.a.createElement("td",{className:"col-5 pl-3"},s.a.createElement("span",{className:"sendSpan"},e.signer),s.a.createElement(K.CopyToClipboard,{text:JSON.stringify(e)},s.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(e){return 0}},s.a.createElement("i",{className:"fas fa-clipboard"})," Copy Signature"))),s.a.createElement("td",{className:"col-3 text-center"},s.a.createElement(re,e)),s.a.createElement("td",{className:"col-4 text-center"},e.account===e.signer?s.a.createElement(se,Object.assign({currency:t},e)):e.fromWei(e.reward,"ether")+" "+t))},se=function(e){return s.a.createElement("span",null,s.a.createElement("span",{className:"sendSpan"},e.fromWei(e.reward,"ether")," ",e.currency),s.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(){return e.onCancel(e.sig,e.nonce)}},s.a.createElement("i",{className:"fas fa-ban"})," Cancel TX"))},re=function(e){return s.a.createElement("span",null,e.blocksFormat?e.schedule:e.timestampDisplay)},le=ee(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this))).state={blocksFormat:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.mountFinished()}},{key:"onToggleBlocks",value:function(){this.setState({blocksFormat:!this.state.blocksFormat}),console.log(this.state)}},{key:"render",value:function(){var e=this,t=L()(this.props.queue),a=Object.keys(this.props.queue),n=t.forEach(function(e,t){return e.sig=a[t]})||t,r=this.state.blocksFormat?n:n.forEach(function(t){t.timestampDisplay=new Date(Date.now()+15*(t.schedule-e.props.blockNumber)).toISOString().replace("T"," ").split(":").slice(0,2),t.timestamp=new Date(Date.now()+15*(t.schedule-e.props.blockNumber)).toISOString()})||n;console.log("txq",n);var l=r.filter(function(t){return t.schedule<e.props.blockNumber}),c=r.filter(function(t){return t.schedule>=e.props.blockNumber});return s.a.createElement(te,Object.assign({},this.props,{posts:l,requests:c,blocksFormat:this.state.blocksFormat,onCancel:this.props.onCancel,onToggleBlocks:this.onToggleBlocks.bind(this),onFulfill:this.props.onFulfill,fromWei:this.props.fromWei}))}}]),t}(n.Component)),ce=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace flex-header"},"Post Scheduled TX",s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(oe,{getTime:e.getTime,onInputChange:e.onInputChange,onSign:e.onSign,setCurrency:e.setCurrency,inputData:e.inputData,symbols:e.symbols})))},oe=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Receiver Address"),s.a.createElement("input",{onFocus:function(e){return e.target.select()},onChange:function(t){return e.onInputChange(Object(f.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"recieverAddress",value:e.inputData.address}),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the end-recipient of your transaction.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Amount"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onFocus:function(e){return e.target.select()},onChange:function(t){return e.onInputChange(Object(f.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"amount",value:e.inputData.amount}),s.a.createElement(v,{symbols:e.symbols,currency:e.inputData.currency,setCurrency:e.setCurrency})),s.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to send to the receiver address.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Reward"),s.a.createElement("i",{"data-tip":"The reward implicitly includes the network transaction fee.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onFocus:function(e){return e.target.select()},onChange:function(t){return e.onInputChange(Object(f.a)({},e.inputData,{reward:t.target.value}))},className:"form-control text-monospace",id:"reward",value:e.inputData.reward}),s.a.createElement(v,{className:"disabled",symbols:e.symbols,currency:e.inputData.currency,setCurrency:e.setCurrency})),s.a.createElement("small",{id:"rwHelp",className:"form-text text-gray"},"Amount awarded to the address that fulfills your request.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Blocks"),s.a.createElement("i",{"data-tip":"Blocks till your TX is available for mining. One block is mined every ~15 seconds.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onFocus:function(e){return e.target.select()},onChange:function(t){return e.onInputChange(Object(f.a)({},e.inputData,{blocks:t.target.value}))},className:"form-control text-monospace",id:"blocks",value:e.inputData.blocks}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("div",{style:{cursor:"help"},"data-tip":e.getTime(e.inputData.blocks),className:"btn btn-primary disabled"},"Blocks"))),s.a.createElement("small",{id:"bHelp",className:"form-text text-gray"},"Blocks to wait before the transaction is broadcasted.")),s.a.createElement("button",{onClick:function(t){return e.onSign(t)},className:"btn btn-block btn-lg btn-secondary"},"Sign and Schedule"))},ie=ee(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).symbols=["ETH","USD"],a.state={address:"0x0000000000000000000000000000000000000000",amount:0,reward:0,blocks:10,currency:a.symbols[0]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(ce,Object.assign({},this.props,{getTime:this.getTime.bind(this),onInputChange:this.onInputChange.bind(this),onSign:this.onSign.bind(this),inputData:this.state,symbols:this.symbols,setCurrency:this.setCurrency.bind(this)}))}},{key:"setCurrency",value:function(e){this.setState({currency:e})}},{key:"getTime",value:function(e){var t=15*e/3600;return t<2?"Your input is equivalent to ~"+(60*t).toFixed(2)+" minutes.":"Your input is equivalent to ~"+t.toFixed(2)+" hours."}},{key:"onSign",value:function(e){e.preventDefault(),this.props.onSign(this.state)}},{key:"onInputChange",value:function(e){/(^[0-9][0-9]{0,5}$)|(^$)/.test(e.blocks)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.reward)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(n.Component)),ue=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Buy TXS",s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("p",{className:"lead"},"TXS is the subscription badge of TXCast. To place a scheduled TX request, your address needs to own 1 TXS per request stored at the server. Once the request is cleared or cancelled, your TXS will still be yours and you'll be ready to place another request."),s.a.createElement("p",null,"There will only be a total of 10000 TXCast subscriptions. Each sub goes for 0.2 ETH. Subscriptions aren't subdivisible. However, an address can buy as many whole units of TXS as it wishes. Subscriptions do not expire and can be transferred between addresses, so you can sell your TXS or gift it to a friend.."),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button",onClick:function(){return e.onBuy()},className:"btn btn-secondary btn-lg btn-block"},"Buy TXS"))))},me=ee(function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(ue,this.props)}}]),t}(n.Component)),de=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Notices",s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("p",null,"TXCast is in beta release. Proceed with caution and make sure to read what each sub-app does.")))},he=ee(function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(de,this.props)}}]),t}(n.Component)),pe=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace flex-header"},"Ether Deposits",s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(be,e)))},be=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Beneficiary's Address"),s.a.createElement("i",{"data-tip":"Until release, the beneficiary is the unlocked wallet.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{disabled:!0,className:"form-control text-monospace bg-primary",id:"beneficiaryAddress",value:e.address})),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the beneficiary of your deposit.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Amount"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(f.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"depositAmount",value:e.inputData.amount})),s.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to deposit to the beneficiary.")),s.a.createElement("button",{onClick:function(t){return e.onDeposit(t)},className:"btn btn-block btn-lg btn-secondary"},"Deposit"))},fe=ee(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={amount:0,selfDepositToggle:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(pe,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onDeposit:this.onDeposit.bind(this),toggleSelfDeposit:this.toggleSelfDeposit.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onDeposit",value:function(e){e.preventDefault(),this.props.onDeposit(this.state)}},{key:"toggleSelfDeposit",value:function(){this.setState(Object(f.a)({},this.state,{selfDepositToggle:!this.state.selfDepositToggle}))}},{key:"onInputChange",value:function(e){/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&this.setState(e)}}]),t}(n.Component)),ge=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace flex-header"},s.a.createElement("span",null,"Deposited Balance"),s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(Ee,e)))},Ee=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Address"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onFocus:function(e){return e.target.select()},onChange:function(t){return e.onInputChange(Object(f.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"address",value:e.inputData.address}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:function(t){return e.onBalance(t)},className:"btn btn-secondary"},"Check")),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("h3",null,"ETH: ",s.a.createElement("span",{className:"float-right"},parseFloat(e.balance).toFixed(5)))))},ve=ee(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(ge,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onBalance:this.onBalance.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onBalance",value:function(e){e.preventDefault(),this.props.onBalance(this.state)}},{key:"onInputChange",value:function(e){/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(n.Component)),ye=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Broadcast TX",s.a.createElement(y,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(Ne,e)))},Ne=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"TX Data"),s.a.createElement("i",{"data-tip":"These data can be copied to the clipboard from the TX Queue sub-app.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange({callDataTX:JSON.parse(t.target.value)})},className:"form-control text-monospace",id:"address",value:JSON.stringify(e.inputData.callDataTX)}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:function(t){return e.onSendRaw(t)},className:"btn btn-secondary"},"Broadcast TX")),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))))},we=ee(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={callDataTX:{}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(ye,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onSendRaw:this.onSendRaw.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSendRaw",value:function(e){e.preventDefault(),this.props.onSendRaw(this.state)}},{key:"onInputChange",value:function(e){this.setState(e)}}]),t}(n.Component)),ke=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(h.a)(t).call(this))).state={addressList:[],queue:{},blockNumber:0,balance:0,netID:"1",hasTXS:!1,blocksFormat:!0,server:"prod",modal:!1},e.Modals=F,e.web3=new C.a(C.a.givenProvider||"http://localhost:8545"),e.mew="https://www.myetherwallet.com/signmsg.html",e.addresses={42:{eths:"0xa0475d202be30019e56306cc08f8998887135258",eths_old:"0xe49bb13f1e57de8364586bbb82bf79d0c8aac074",txssale:"0x2ffbee1b7eda9d6187f4f875899c9f8f28d927ed",txs:"0x12C942fDbE9981E68DC153CC92dA2e2c301F5a9A"},1:{eths:"0x0de3f0cd422e25d1c20fc8124e8bd0181e68fa30",eths_old:"0xf99E87098f4F1C8d8bd6a3df7181B3acdc21848A",txssale:"0x02e48bb0dbdc0ebbc041e725a12784239a2d10df",txs:"0x390e0070323df12b024617854f698cef5d309a93"}},e.urls={dev:"http://localhost:5000",devrem:"http://txcast.io:5000",prod:"https://api.txcast.io"},e.abiTypes={eths:{withoutSignature:["address","uint256","uint256","bool","uint256","uint256","uint256","bool"],withSignature:["address","uint256","uint256","bool","uint256","uint256","uint256","bytes"]}},e.toggle=e.toggle.bind(Object(b.a)(Object(b.a)(e))),e.updateBlock=e.updateBlock.bind(Object(b.a)(Object(b.a)(e))),e.cancelTX=function(e,t){var a=this;this.toggle();var n={to:this.addresses[this.state.netID].eths,data:"0x8e7baff6"+this.web3.eth.abi.encodeParameters(["uint"],[t]).substr(2)};this.sendTX(n),this.web3.eth.personal.sign("Cancel TX "+t,this.state.addressList[0]).then(function(n){var s={signature:e,nonce:t,verified:n},r=new FormData;Object.keys(s).forEach(function(e){r.set(e,s[e])});var l={url:a.urls[a.state.server]+"/signature/"+e,data:r,method:"DELETE"};S()(l).then(function(e){A.toast.success("TX request deleted from the server.")}).catch(function(e){console.error(e)}).finally(function(){a.fetchData(),a.getTXS(a.state.addressList[0])})})}.bind(Object(b.a)(Object(b.a)(e))),e.signTX=function(e,t,a,n){var s=this;this.toggle(),this.web3.eth.personal.sign(e,t).then(function(e){var r=Object(f.a)({method:n,signer:t},a),l=new FormData;Object.keys(r).forEach(function(e){l.set(e,r[e])});var c={url:s.urls[s.state.server]+"/signature/"+e,data:l,method:"PUT"};S()(c).then(function(t){var a=W()(s.state.queue);a[e]=r,A.toast.success("TX added to the server."),s.setState({queue:a},function(e){return console.log})}).catch(function(e){e.response&&(A.toast.error(e.response.data.message),console.log("error",e.response.data.message))}).finally(function(){s.fetchData(),s.getTXS(s.state.addressList[0])})})}.bind(Object(b.a)(Object(b.a)(e))),e.sendTX=function(e){var t=this.state.addressList[0],a=Object(f.a)({},e,{from:t});return console.log(a),this.web3.eth.sendTransaction(a)}.bind(Object(b.a)(Object(b.a)(e))),e.getTXS=function(e){return G.apply(this,arguments)}.bind(Object(b.a)(Object(b.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t,a,n=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.enable();case 3:return e.next=5,this.web3.eth.getAccounts();case 5:return t=e.sent,e.next=8,this.web3.eth.net.getId();case 8:a=e.sent,this.setState({addressList:t,netID:a},function(){var e=t[0];n.getTXS(e),n.web3.currentProvider.publicConfigStore.on("update",function(e){n.state.addressList[0].toLowerCase()!==e.selectedAddress&&n.setState({addressList:[n.web3.utils.toChecksumAddress(e.selectedAddress)],netID:e.networkVersion.toString()},function(){n.getTXS(n.state.addressList[0])})}),n.updateBlock(),setInterval(n.updateBlock,15e3)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0,"no web3");case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"mountFinished",value:function(){var e=this;this.fetchData(),setInterval(function(){return e.fetchData()},1e4)}},{key:"fetchData",value:function(){var e=this,t={url:this.urls[this.state.server]+"/signature",method:"GET"};S()(t).then(function(t){var a=t.data.reduce(function(e,t){return e[t[0]]=t[1],e},{});e.setState({queue:a})})}},{key:"updateBlock",value:function(){var e=Object(i.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:null!==(t=e.sent)&&/[0-9]*/.test(t)&&this.setState({blockNumber:t.number});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.netID.toString(),t=this.addresses[e].eths,a={netID:e,ethsAddress:t,ethsUrl:"https://"+("1"===e?"www":"kovan")+".etherscan.io/address/"+t,coinbaseUrl:"https://"+("1"===e?"www":"kovan")+".etherscan.io/address/"+this.state.addressList[0]},n=this.state.modal?s.a.createElement(E,{innerHTML:this.state.innerHTML,params:this.state.params,action:this.state.action,toggle:this.toggle,modal:this.state.modal}):"";return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement(j.a,null),s.a.createElement(A.ToastContainer,null),s.a.createElement(B,Object.assign({},this.state,a,{logo:V.a})),n,s.a.createElement("div",{className:"container-fluid px-4 mt-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-5"},s.a.createElement(le,{account:this.state.addressList[0],queue:this.state.queue,blockNumber:this.state.blockNumber,onFulfill:Z.bind(this),onCancel:$.bind(this),mountFinished:this.mountFinished.bind(this),fromWei:this.web3.utils.fromWei}),s.a.createElement(we,{onSendRaw:J.bind(this)})),s.a.createElement("div",{className:"col-lg-7"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-7"},s.a.createElement(ie,{onSign:U.bind(this)}),s.a.createElement(me,{onBuy:M.bind(this)})),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement(fe,{address:this.state.addressList[0],onDeposit:_.bind(this)}),s.a.createElement(ve,{address:this.state.addressList[0],balance:this.state.balance,onBalance:Y.bind(this)}),s.a.createElement(he,null)))))),s.a.createElement(w,null))}}]),t}(n.Component),xe=a(204),Oe=a.n(xe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(534);Oe.a.load({google:{families:["Roboto","Roboto Mono"]}}),l.a.render(s.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[205,2,1]]]);
//# sourceMappingURL=main.08d96433.chunk.js.map