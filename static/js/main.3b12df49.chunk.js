(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a.p+"static/media/logo.21f31404.svg"},155:function(e,t,a){e.exports=a(400)},160:function(e,t,a){},195:function(e,t){},197:function(e,t){},222:function(e,t){},265:function(e,t){},348:function(e,t){},393:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(24),r=a.n(l),c=(a(160),a(82)),o=a(15),i=a(30),m=a.n(i),u=a(58),d=a(7),h=a(8),p=a(10),b=a(9),f=a(11),E=a(16),g=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={toggle:!1,filter:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"setFilter",value:function(e){this.setState(Object(o.a)({},this.state,{filter:e}))}},{key:"toggleList",value:function(){this.setState(function(e){return{toggle:!e.toggle}})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{disabled:this.props.disabled,className:"btn btn-primary dropdown-toggle",onClick:function(){return e.toggleList()},type:"button","data-toggle":"dropdown"},"ETH"),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right "+(this.state.toggle?"show":"")},s.a.createElement("input",{className:"filter-input pl-2 m-1",onChange:function(t){return e.setFilter(t.target.value)},type:"text",placeholder:"Filter",id:"ticker"}),this.props.symbols.filter(function(t){return t.toUpperCase().search(e.state.filter.toUpperCase())>-1}).map(function(e){return s.a.createElement("a",{key:e,className:"dropdown-item",href:"#"},e)})))}}]),t}(n.Component),v=function(e){return s.a.createElement("a",{onClick:function(){return e.onCollapse()}},s.a.createElement("i",{className:"float-right fas fa-"+(e.collapsed?"plus":"minus")+"-square"}))},N=function(e){return s.a.createElement("a",{onClick:function(){return e.onToggleBlocks()}},s.a.createElement("i",{"data-tip":"Toggle block schedule or approximate UTC time.",className:"float-right mr-4 fas fa-toggle-"+(e.blocksFormat?"on":"off")}))},y=function(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center"},s.a.createElement("i",{className:"fas fa-ellipsis-h"})),s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("ul",{className:"list-inline social-buttons"},s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"#"},s.a.createElement("i",{className:"fab fa-twitter"}))),s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"#"},s.a.createElement("i",{className:"fab fa-reddit"}))),s.a.createElement("li",{className:"list-inline-item"},s.a.createElement("a",{href:"#"},s.a.createElement("i",{className:"fab fa-discord"}))))),s.a.createElement("div",{className:"col-md-12 py-5"},s.a.createElement("span",{className:"text-white text-monospace"},"TXCast 2018")))))},w=function(){return s.a.createElement("svg",{height:"100%",width:"100%"},s.a.createElement("defs",null,s.a.createElement("pattern",{id:"basicPattern",x:"0",y:"0",width:"60",height:"30",patternUnits:"userSpaceOnUse"},s.a.createElement("polygon",{points:"0,0 30,15 30,-15"}),s.a.createElement("polygon",{points:"0,0 30,15 0,30"}),s.a.createElement("polygon",{points:"0,30 30,15 30,45"}),s.a.createElement("polygon",{points:"60,0 30,15 30,-15"}),s.a.createElement("polygon",{points:"60,0 30,15 60,30"}),s.a.createElement("polygon",{points:"60,30 30,15 30,45"}))),s.a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",stroke:"#333333",strokeWidth:"1",fill:"url(#basicPattern)"}))},k=function(e){var t=e.active?"text-success":"text-danger",a=e.active?" Active":" Inactive",n=e.active?"check":"times";return s.a.createElement("span",{className:"navbar-text"},"TXC Sub:",s.a.createElement("span",{className:t},a),s.a.createElement("i",{"data-tip":"Active subs are addresses that hold at least 1 TXC and do not pay the 30% fee.",className:"ml-1 fas fa-"+n+"-circle "+t}))},x=a(78),C=a.n(x),T=a(151),O=a.n(T),j=a(59),D=a.n(j),S=a(12),X=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).toggle=a.toggle.bind(Object(E.a)(Object(E.a)(a))),a.state={isOpen:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=void 0!=this.props.addressList[0];return s.a.createElement("div",null,s.a.createElement(S.k,{className:"text-monospace text-black",color:"#FFF",light:!0,expand:"md"},s.a.createElement("img",{src:this.props.logo,width:"30",height:"30",className:"d-inline-block align-top mx-3",alt:"txcast logo"}),s.a.createElement(S.l,{className:"font-weight-bold",style:{letterSpacing:"7px"}},"TXCast"),s.a.createElement(S.m,{onClick:this.toggle}),s.a.createElement(S.a,{isOpen:this.state.isOpen,navbar:!0},s.a.createElement(S.h,{className:"ml-auto",navbar:!0},s.a.createElement(S.i,{className:"mr-3"},s.a.createElement(S.j,{"data-tip":"Under construction",className:"text-success",href:"#"},"Help")),s.a.createElement(S.i,{className:"mr-3"},s.a.createElement(k,{active:!!this.props.hasTXC})),s.a.createElement(S.n,{nav:!0,inNavbar:!0},s.a.createElement(S.d,{nav:!0,caret:!0},"Address and Blocks"),s.a.createElement(S.c,{right:!0},s.a.createElement(S.b,{disabled:!0},s.a.createElement("small",null,s.a.createElement("i",{style:{color:1===this.props.netid?"teal":"purple"},className:"fas fa-wifi mr-2"}),"Active TXCast Address: ",s.a.createElement("a",{href:this.props.ethsUrl,className:"text-monospace"},this.props.ethsAddress))),this.props.addressList[0]&&s.a.createElement(I,this.props),s.a.createElement(S.b,{style:{borderTopColor:"gray"},divider:!0}),s.a.createElement(S.b,{disabled:!0},s.a.createElement("small",{className:"float-left"},s.a.createElement("i",{className:"fa"+(e?"s":"r")+" fa-circle text-"+(e?"success":"info")})," web3 ",e?"enabled":"disabled"),s.a.createElement("small",{className:"float-right"},"Current block: ",s.a.createElement("span",{className:"text-monospace"},this.props.blockNumber)))))))))}}]),t}(s.a.Component),I=function(e){return s.a.createElement(S.b,{disabled:!0},s.a.createElement("small",{className:"float-right"},"Your address: ",s.a.createElement("a",{href:e.coinbaseUrl,className:"text-monospace"},e.addressList[0])))},B=X,A=a(153),F=a.n(A),H=(a(393),a(34)),q=a(154),R=function(e){return function(t){function a(e){var t;return Object(d.a)(this,a),(t=Object(p.a)(this,Object(b.a)(a).call(this))).state={collapsed:!1},t.onCollapse=t.onCollapse.bind(Object(E.a)(Object(E.a)(t))),t}return Object(f.a)(a,t),Object(h.a)(a,[{key:"onCollapse",value:function(){this.setState(Object(o.a)({},this.state,{collapsed:!this.state.collapsed}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(e,Object.assign({},this.props,{collapsed:this.state.collapsed,onCollapse:this.onCollapse})))}}]),a}(s.a.Component)},L=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h2",{className:"text-monospace font-weight-bold"},"TX Queue",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}),s.a.createElement(N,{onToggleBlocks:e.onToggleBlocks,blocksFormat:e.blocksFormat}),s.a.createElement("i",{"data-multiline":!0,"data-tip":"These are the registered TXs requested by other users.<br/>Anyone can claim the reward offered by the poster once their schedule is met.",className:"ml-3 small fas fa-question-circle"}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("div",{className:"table-container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"bg-white text-monospace"},s.a.createElement("tr",{className:"text-black d-flex",style:{height:"30px"}},s.a.createElement("th",{scope:"col",className:"col-5"},"Requester"),s.a.createElement("th",{scope:"col",className:"col-3 text-center"},s.a.createElement("i",{className:"fas fa-"+(e.blocksFormat?"cube":"calendar")})," ",s.a.createElement("span",null,"Schedule")),s.a.createElement("th",{scope:"col",className:"col-4 text-center"},"Reward"))),s.a.createElement("tbody",{className:"text-black text-monospace"},e.posts.map(function(t){return s.a.createElement(W,Object.assign({},t,{key:t.sig,account:e.account,onCancel:e.onCancel,onFulfill:e.onFulfill,fromWei:e.fromWei}))})," ",e.requests.map(function(t){var a;return s.a.createElement(P,Object.assign({},t,(a={key:t.sig,account:e.account,blocksFormat:e.blocksFormat},Object(H.a)(a,"account",e.account),Object(H.a)(a,"onCancel",e.onCancel),Object(H.a)(a,"fromWei",e.fromWei),a)))}))))))},W=function(e){return s.a.createElement("tr",{className:"table-light text-black d-flex hoverHide"},s.a.createElement("td",{className:"col-5 pl-3"},s.a.createElement("span",{className:"sendSpan"},e.signer),s.a.createElement("button",{className:"btn btn-sm btn-success btn-block table-button",onClick:function(){return e.onFulfill(e)}},s.a.createElement("i",{className:"fas fa-paper-plane"})," Send this TX")),s.a.createElement("td",{className:"col-3 text-center"},"Ready"),s.a.createElement("td",{className:"col-4 text-center"},e.account===e.signer?s.a.createElement(M,e):e.fromWei(e.reward,"ether")+" ETH"))},P=function(e){return s.a.createElement("tr",{className:"table-secondary text-black d-flex hoverHide"},s.a.createElement("td",{className:"col-5 pl-3"},s.a.createElement("span",{className:"sendSpan"},e.signer),s.a.createElement(q.CopyToClipboard,{text:JSON.stringify(e)},s.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(e){return 0}},s.a.createElement("i",{className:"fas fa-clipboard"})," Copy Signature"))),s.a.createElement("td",{className:"col-3 text-center"},s.a.createElement(U,e)),s.a.createElement("td",{className:"col-4 text-center"},e.account===e.signer?s.a.createElement(M,e):e.fromWei(e.reward,"ether")+" ETH"))},M=function(e){return s.a.createElement("span",null,s.a.createElement("span",{className:"sendSpan"},e.fromWei(e.reward,"ether")," ","ETH"),s.a.createElement("button",{className:"btn btn-sm btn-danger btn-block table-button",onClick:function(){return e.onCancel(e.sig,e.nonce)}},s.a.createElement("i",{className:"fas fa-ban"})," Cancel TX"))},U=function(e){return s.a.createElement("span",null,e.blocksFormat?e.schedule:e.timestampDisplay)},$=R(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this))).state={blocksFormat:!0},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"onToggleBlocks",value:function(){this.setState({blocksFormat:!this.state.blocksFormat}),console.log(this.state)}},{key:"render",value:function(){var e=this,t=Object.values(this.props.queue),a=Object.keys(this.props.queue),n=t.forEach(function(e,t){return e.sig=a[t]})||t,l=this.state.blocksFormat?n:n.forEach(function(t){t.timestampDisplay=new Date(Date.now()+15*(t.schedule-e.props.blockNumber)).toISOString().replace("T"," ").split(":").slice(0,2),t.timestamp=new Date(Date.now()+15*(t.schedule-e.props.blockNumber)).toISOString()})||n;console.log("txq",n);var r=l.filter(function(t){return t.schedule<e.props.blockNumber}),c=l.filter(function(t){return t.schedule>=e.props.blockNumber});return s.a.createElement(L,Object.assign({},this.props,{posts:r,requests:c,blocksFormat:this.state.blocksFormat,onCancel:this.props.onCancel,onToggleBlocks:this.onToggleBlocks.bind(this),onFulfill:this.props.onFulfill,fromWei:this.props.fromWei}))}}]),t}(n.Component)),Y=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Post Scheduled TX",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}),s.a.createElement("i",{"data-multiline":!0,"data-tip":"It is possible to cancel a TX request before it is broadcasted by hovering over the request in the TX Queue and clicking Cancel TX.",className:"ml-3 small fas fa-question-circle"}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(J,{getTime:e.getTime,onInputChange:e.onInputChange,onSign:e.onSign,inputData:e.inputData,symbols:e.symbols})))},J=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Receiver Address"),s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"recieverAddress",value:e.inputData.address}),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the end-recipient of your transaction.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Amount"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"amount",value:e.inputData.amount}),s.a.createElement(g,{disabled:!0,symbols:e.symbols})),s.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to send to the receiver address.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Reward"),s.a.createElement("i",{"data-tip":"The reward implicitly includes the network transaction fee.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{reward:t.target.value}))},className:"form-control text-monospace",id:"reward",value:e.inputData.reward}),s.a.createElement(g,{disabled:!0,symbols:e.symbols})),s.a.createElement("small",{id:"rwHelp",className:"form-text text-gray"},"Amount awarded to the address that fulfills your request.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Blocks"),s.a.createElement("i",{"data-tip":"Blocks till your TX is available for mining. One block is mined every ~15 seconds.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{blocks:t.target.value}))},className:"form-control text-monospace",id:"blocks",value:e.inputData.blocks}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("div",{style:{cursor:"help"},"data-tip":e.getTime(e.inputData.blocks),className:"btn btn-primary disabled"},"Blocks"))),s.a.createElement("small",{id:"bHelp",className:"form-text text-gray"},"Blocks to wait before the transaction is broadcasted.")),s.a.createElement("button",{onClick:function(t){return e.onSign(t)},className:"btn btn-block btn-lg btn-success"},"Sign and Schedule"))},Z=R(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0,reward:0,blocks:10},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"getTime",value:function(e){var t=15*e/3600;return t<2?"Your input is equivalent to ~"+(60*t).toFixed(2)+" minutes.":"Your input is equivalent to ~"+t.toFixed(2)+" hours."}},{key:"render",value:function(){return s.a.createElement(Y,Object.assign({},this.props,{getTime:this.getTime.bind(this),onInputChange:this.onInputChange.bind(this),onSign:this.onSign.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSign",value:function(e){e.preventDefault(),this.props.onSign(this.state)}},{key:"onInputChange",value:function(e){/(^[0-9][0-9]{0,5}$)|(^$)/.test(e.blocks)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.reward)&&/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(n.Component)),Q=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Buy TXC",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("p",{className:"lead"},"TXC is the subscription badge of TXCast. Every posted transaction charges a 30% fee of the reward. Addresses with at least 1 TXC do not pay this fee. Subscriptions can be transferred to other addresses and never expire."),s.a.createElement("p",{className:"small"},"There will only be a total of 5000 TXC subscriptions, and their price is fixed at 1 TXC = 1 ETH for the duration of the sale. TXC isn't subdivisible, so the minimum amount for sale is 1 TXC. However, an address can buy as many whole units of TXC as it wishes. After the 5000 subscriptions are sold, new users will have buy the subscriptions from previous owners."),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button",onClick:function(){return e.onBuy()},className:"btn btn-success btn-lg btn-block"},"Buy TXC"))))},_=R(function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(Q,this.props)}}]),t}(n.Component)),G=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Notices",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement("p",null,"TXCast is in beta release. Proceed with caution and make sure to read what each sub-app does.")))},z=R(function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(G,this.props)}}]),t}(n.Component)),V=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Ether and Token Deposits",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}),s.a.createElement("i",{className:"ml-3 small fas fa-question-circle"}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(K,e)))},K=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Beneficiary's Address"),s.a.createElement("i",{"data-tip":"Until release, the beneficiary is the unlocked wallet.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{disabled:!0,className:"form-control text-monospace bg-primary",id:"beneficiaryAddress",value:e.address})),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"},"Address of the beneficiary of your deposit.")),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Amount"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{amount:t.target.value}))},className:"form-control text-monospace",id:"depositAmount",value:e.inputData.amount}),s.a.createElement(g,{symbols:e.symbols})),s.a.createElement("small",{id:"aHelp",className:"form-text text-gray"},"Amount to deposit to the beneficiary.")),s.a.createElement("button",{onClick:function(t){return e.onDeposit(t)},className:"btn btn-block btn-lg btn-success"},"Deposit"))},ee=R(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={amount:0,selfDepositToggle:!0},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(V,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onDeposit:this.onDeposit.bind(this),toggleSelfDeposit:this.toggleSelfDeposit.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onDeposit",value:function(e){e.preventDefault(),this.props.onDeposit(this.state)}},{key:"toggleSelfDeposit",value:function(){this.setState(Object(o.a)({},this.state,{selfDepositToggle:!this.state.selfDepositToggle}))}},{key:"onInputChange",value:function(e){/(^[0-9]+\.?[0-9]{0,18}$)|(^$)/.test(e.amount)&&this.setState(e)}}]),t}(n.Component)),te=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Balances",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(ae,e)))},ae=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Address"),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange(Object(o.a)({},e.inputData,{address:t.target.value}))},className:"form-control text-monospace",id:"address",value:e.inputData.address}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:function(t){return e.onBalance(t)},className:"btn btn-primary"},"Check")),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("h3",null,"ETH: ",s.a.createElement("span",{className:"float-right"},e.balance))))},ne=R(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={address:"0x0000000000000000000000000000000000000000",amount:0},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(te,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onBalance:this.onBalance.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onBalance",value:function(e){e.preventDefault(),this.props.onBalance(this.state)}},{key:"onInputChange",value:function(e){/^0x[0-9a-f]{40}$/i.test(e.address)&&this.setState(e)}}]),t}(n.Component)),se=function(e){return s.a.createElement("div",{className:"card text-white mb-3"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"text-monospace"},"Broadcast TX",s.a.createElement(v,{onCollapse:e.onCollapse,collapsed:e.collapsed}))),s.a.createElement("div",{className:"card-body"+(e.collapsed?" card-collapse":"")},s.a.createElement(le,e)))},le=function(e){return s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"TX Data"),s.a.createElement("i",{"data-tip":"These data can be copied to the clipboard from the TX Queue sub-app.",className:"fas fa-info-circle ml-2"}),s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{onChange:function(t){return e.onInputChange({callDataTX:JSON.parse(t.target.value)})},className:"form-control text-monospace",id:"address",value:JSON.stringify(e.inputData.callDataTX)}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{onClick:function(t){return e.onSendRaw(t)},className:"btn btn-primary"},"Broadcast TX")),s.a.createElement("small",{id:"raHelp",className:"form-text text-gray"}))))},re=R(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={callDataTX:{}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(se,Object.assign({},this.props,{onInputChange:this.onInputChange.bind(this),onSendRaw:this.onSendRaw.bind(this),inputData:this.state,symbols:["ETH","ZRX","DAI","REP"]}))}},{key:"onSendRaw",value:function(e){e.preventDefault(),this.props.onSendRaw(this.state)}},{key:"onInputChange",value:function(e){this.setState(e)}}]),t}(n.Component)),ce=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(p.a)(this,Object(b.a)(t).call(this))).state={addressList:[],queue:{},blockNumber:0,balance:0,netID:1,hasTXC:!1,blocksFormat:!0,server:"prod",modal:!1},e.updateBlock=e.updateBlock.bind(Object(E.a)(Object(E.a)(e))),e.web3=new C.a(C.a.givenProvider||"http://localhost:8545"),e.mew="https://www.myetherwallet.com/signmsg.html",e.addresses={42:{eths:"0xa0475d202be30019e56306cc08f8998887135258",eths_old:"0xe49bb13f1e57de8364586bbb82bf79d0c8aac074",txcsale:"0x2ffbee1b7eda9d6187f4f875899c9f8f28d927ed",txc:"0x12C942fDbE9981E68DC153CC92dA2e2c301F5a9A"},1:{eths:"0xf99E87098f4F1C8d8bd6a3df7181B3acdc21848A",txcsale:"0xa4b01a89162141c58505ea43db2d3bda71a325c2",txc:"0x67e35c41060a988f59e2bcb2e0f09b6978fb6614"}},e.urls={dev:"http://localhost:5000",prod:"https://api.txcast.io"},e.abiTypes={eths:{withoutSignature:["address","uint256","uint256","bool","uint256","uint256","uint256"],withSignature:["address","uint256","uint256","bool","uint256","uint256","uint256","bytes"]}},e.modalData={signData:{body:function(t){var a=t.params,n=e.web3.utils.toBN(a.dataArray.reward).add(e.web3.utils.toBN(a.dataArray.amount)),l=n.lte(e.web3.utils.toBN(a.balance));return s.a.createElement(S.f,null,s.a.createElement("h2",{className:"text-black"},"TX Request"),s.a.createElement("p",null,"You are about to sign a TX request. This can still be cancelled before someone broadcasts it."),s.a.createElement("p",null,s.a.createElement("h5",{className:"text-black"},"Your input data is the following:"),"Receiver:",s.a.createElement("small",{className:"text-monospace float-right"}," ",a.dataArray.address),s.a.createElement("br",null),"Schedule: ",s.a.createElement("span",{className:"float-right"},"Block ",a.dataArray.schedule),s.a.createElement("br",null),"TX Message: ",s.a.createElement("span",{className:"text-monospace float-right"},e.web3.utils.hexToAscii(a.hash))),s.a.createElement("p",null,s.a.createElement("br",null),"Amount: ",s.a.createElement("span",{className:"float-right"},e.web3.utils.fromWei(a.dataArray.amount,"ether")," ETH"),s.a.createElement("br",null),"Reward: ",s.a.createElement("span",{className:"float-right"},e.web3.utils.fromWei(a.dataArray.reward,"ether")," ETH")),s.a.createElement("br",null),"Total: ",s.a.createElement("span",{className:"float-right"},e.web3.utils.fromWei(n.toString(),"ether")," ETH"),s.a.createElement("p",null,"Your available balance: ",s.a.createElement("span",{className:"float-right text-"+(l?"success":"danger")},e.web3.utils.fromWei(a.balance.toString(),"ether")," ETH")))},footer:function(e){var t=e.toggle,a=e.action,n=e.params;return s.a.createElement(S.g,null,s.a.createElement("button",{className:"btn btn-info",onClick:t},"Back"),s.a.createElement("button",{className:"btn btn-success",onClick:function(){return a(n.hash,n.signer,n.dataArray)}},"Sign TX")," ")}},cancelData:{body:function(){return s.a.createElement(S.f,null,s.a.createElement("h2",{className:"text-black"},"TX Cancellation"),s.a.createElement("p",null,"Cancelling a TX has two steps: Cancelling the request on the blockchain and removing the request from the TXCast server."),s.a.createElement("p",null,"You will be prompted for two signatures:",s.a.createElement("br",null),"one with a 0.001 ETH cost to cancel on the blockchain,",s.a.createElement("br",null),"and one with no cost to remove the request."),s.a.createElement("p",null,"It is ",s.a.createElement("b",null,"absolutely necessary")," to send the 0.001 ETH transaction, since that is the 100% guarantee that your request is fully invalidated. The zero cost transaction will remove your request from the servers, but if someone has a copy of your signature, it can still be used."))},footer:function(e){var t=e.toggle,a=e.action,n=e.params;return s.a.createElement(S.g,null,s.a.createElement("button",{className:"btn btn-info",onClick:t},"Back"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(n.signature,n.nonce)}},"Cancel TX")," ")}}},e.toggle=e.toggle.bind(Object(E.a)(Object(E.a)(e))),e.cancelTX=e.cancelTX.bind(Object(E.a)(Object(E.a)(e))),e.signTX=e.signTX.bind(Object(E.a)(Object(E.a)(e))),e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t,a,n,s,l=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.enable();case 3:return e.next=5,this.web3.eth.getAccounts();case 5:return t=e.sent,e.next=8,this.web3.eth.net.getId();case 8:return a=e.sent,e.next=11,this.setState({addressList:t,netID:a});case 11:n=t[0],s={to:this.addresses[this.state.netID].txc,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[n]).substr(2)},this.web3.eth.call(s).then(function(e,t){l.setState({hasTXC:parseInt(e)>0})}),this.web3.currentProvider.publicConfigStore.on("update",function(e){l.setState({addressList:[l.web3.utils.toChecksumAddress(e.selectedAddress)],netID:e.networkVersion})}),setInterval(this.updateBlock,5e3),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0,"no web3");case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=this;console.log(this.state);var t={url:this.urls[this.state.server]+"/signature",method:"GET"};D()(t).then(function(t){var a=t.data.reduce(function(e,t){return e[t[0]]=t[1],e},{});e.setState({queue:a})})}},{key:"updateBlock",value:function(){var e=Object(u.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:null!==(t=e.sent)&&/[0-9]*/.test(t)&&this.setState({blockNumber:t.number});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"signTX",value:function(e,t,a){var n=this;this.toggle(),this.web3.eth.personal.sign(e,t).then(function(e){var s=Object(o.a)({signer:t},a),l=n.state.queue;l[e]=s,n.setState({queue:l});var r=new FormData;Object.keys(s).forEach(function(e){r.set(e,s[e])});var c={url:n.urls[n.state.server]+"/signature/"+e,data:r,method:"PUT"};D()(c).then(console.log).catch(console.log)})}},{key:"onSign",value:function(){var e=Object(u.a)(m.a.mark(function e(t){var a,n,s,l,r,c,o=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock("latest");case 2:return a=e.sent,n={address:t.address,amount:this.web3.utils.toWei(t.amount.toString(),"ether"),reward:this.web3.utils.toWei(t.reward.toString(),"ether"),byBlocks:!0,schedule:parseInt(t.blocks)+parseInt(a.number),nonce:Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),netID:this.state.netID},console.log(n),s={to:this.addresses[this.state.netID].eths,data:"0x889c3912"+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withoutSignature,Object.values(n)).substr(2)},e.next=8,this.web3.eth.call(s);case 8:l=e.sent,r=this.state.addressList[0],c={to:this.addresses[this.state.netID].eths,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[r]).substr(2)},this.web3.eth.call(c).then(function(e,t){var a=o.web3.utils.toBN(e).toString();o.setState({modal:!0,params:{hash:l,signer:r,dataArray:n,balance:a},innerHTML:o.modalData.signData,action:o.signTX})});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"onBuy",value:function(){var e=this.state.addressList[0],t={from:e,value:this.web3.utils.toWei("1","ether"),to:this.addresses[this.state.netID].txcsale,data:"0xec8ac4d80"+this.web3.eth.abi.encodeParameters(["address"],[e]).substr(2)};this.sendTX(t)}},{key:"onCancel",value:function(e,t){this.setState({modal:!0,params:{signature:e,nonce:t},innerHTML:this.modalData.cancelData,action:this.cancelTX})}},{key:"cancelTX",value:function(e,t){var a=this;this.toggle();var n={to:this.addresses[this.state.netID].eths,data:"0x8e7baff6"+this.web3.eth.abi.encodeParameters(["uint"],[t]).substr(2)};this.sendTX(n),this.web3.eth.personal.sign("Cancel TX "+t,this.state.addressList[0]).then(function(n){var s={signature:e,nonce:t,verified:n},l=new FormData;Object.keys(s).forEach(function(e){l.set(e,s[e])});var r={url:a.urls[a.state.server]+"/signature/"+e,data:l,method:"DELETE"};D()(r).then(a.fetchData.bind(a)).catch(console.error)})}},{key:"onDeposit",value:function(e){var t=this.state.addressList[0],a={from:t,value:this.web3.utils.toWei(e.amount.toString(),"ether"),to:this.addresses[this.state.netID].eths,data:"0xf340fa01"+this.web3.eth.abi.encodeParameters(["address"],[t]).substr(2)};this.sendTX(a).then(console.log)}},{key:"onBalance",value:function(e){var t=this,a={to:this.addresses[this.state.netID].eths,data:"0x70a08231"+this.web3.eth.abi.encodeParameters(["address"],[e.address]).substr(2)};this.web3.eth.call(a).then(function(e,a){var n=t.web3.utils.fromWei(t.web3.utils.toBN(e).toString(),"ether");t.setState({balance:n})})}},{key:"onSendRaw",value:function(e){var t,a={address:(t=e.callDataTX).address,amount:t.amount,reward:t.reward,byBlocks:t.byBlocks,schedule:t.schedule,nonce:t.nonce,netID:t.netID,sig:t.sig},n={to:this.addresses[this.state.netID].eths,data:"0x392482d1"+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withSignature,Object(c.a)(Object.values(a))).substr(2)};this.sendTX(n)}},{key:"onFulfill",value:function(e){var t,a={address:(t=e).address,amount:t.amount,reward:t.reward,byBlocks:t.byBlocks,schedule:t.schedule,nonce:t.nonce,netID:t.netID,sig:t.sig},n={to:this.addresses[this.state.netID].eths,data:"0x392482d1"+this.web3.eth.abi.encodeParameters(this.abiTypes.eths.withSignature,Object(c.a)(Object.values(a))).substr(2)};this.sendTX(n)}},{key:"sendTX",value:function(e){var t=this.state.addressList[0],a=Object(o.a)({},e,{from:t});return console.log(a),this.web3.eth.sendTransaction(a)}},{key:"render",value:function(){var e=this.state.netID,t=this.addresses[e].eths,a={netid:e,ethsAddress:t,ethsUrl:"https://"+(1===e?"www":"kovan")+".etherscan.io/address/"+t,coinbaseUrl:"https://"+(1===e?"www":"kovan")+".etherscan.io/address/"+this.state.addressList[0]},n=this.state.modal?s.a.createElement(oe,{innerHTML:this.state.innerHTML,params:this.state.params,action:this.state.action,toggle:this.toggle,modal:this.state.modal}):"";return s.a.createElement("div",null,s.a.createElement(w,null),s.a.createElement(O.a,null),s.a.createElement(B,Object.assign({logo:F.a},this.state,a)),n,s.a.createElement("div",{className:"container-fluid px-4 mt-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-5"},s.a.createElement($,{account:this.state.addressList[0],queue:this.state.queue,blockNumber:this.state.blockNumber,onFulfill:this.onFulfill.bind(this),onCancel:this.onCancel.bind(this),fetchData:this.fetchData.bind(this),fromWei:this.web3.utils.fromWei}),s.a.createElement(re,{onSendRaw:this.onSendRaw.bind(this)})),s.a.createElement("div",{className:"col-md-7"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-7 col-12"},s.a.createElement(Z,{onSign:this.onSign.bind(this)}),s.a.createElement(ee,{address:this.state.addressList[0],onDeposit:this.onDeposit.bind(this)})),s.a.createElement("div",{className:"col-md-5 col-12"},s.a.createElement(_,{onBuy:this.onBuy.bind(this)}),s.a.createElement(ne,{address:this.state.addressList[0],balance:this.state.balance,onBalance:this.onBalance.bind(this)}),s.a.createElement(z,null)))))),s.a.createElement(y,null))}}]),t}(n.Component),oe=function(e){return s.a.createElement(S.e,{isOpen:e.modal,toggle:e.toggle},e.innerHTML.body({params:e.params}),e.innerHTML.footer({toggle:e.toggle,action:e.action,params:e.params}))},ie=ce;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[155,2,1]]]);
//# sourceMappingURL=main.3b12df49.chunk.js.map